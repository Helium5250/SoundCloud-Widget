{"version":3,"sources":["reportWebVitals.ts","utils/SCAPI.ts","components/Searchbar.tsx","components/Spinner.tsx","functions/getRefCurrent.ts","hooks/useEventListener.ts","functions/clamp.ts","hooks/useDrag.ts","components/Miniplayer.tsx","components/Track.tsx","App.tsx","index.tsx"],"names":["reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","SoundCloudAPI","init","ID","SC","initialize","client_id","getTracks","input","func","get","q","data","getPlayer","trackId","stream","Searchbar","returnInput","useState","setInput","searchbar","useRef","id","autoFocus","type","placeholder","ref","value","onChange","e","target","onKeyUp","key","className","onClick","current","focus","SpinnerDiv","styled","div","Rect","props","color","height","width","num","index","Spinner","Array","map","_","getRefCurrent","useEventListener","eventTarget","eventType","listener","options","savedListener","useEffect","element","addEventListener","wrappedListener","removeEventListener","clamp","min","max","Math","useDrag","movingTarget","dragable","offset","x","y","pos","edge","getDist2Edge","useCallback","movingElement","window","innerWidth","offsetWidth","innerHeight","offsetHeight","setPos","clientX","clientY","offsetLeft","offsetTop","document","preventDefault","style","left","top","displayTime","seconds","val","floor","slice","join","MiniPlayer","info","miniplayer","console","log","alt","title","src","imgURL","artist","timestamp","duration","skip","onPause","pause","Card","play","milliseconds2seconds","milliseconds","App","status","setStatus","tracks","setTracks","player","setPause","currentTrack","setCurrentTrack","changeTrack","next","currentTrackIndex","indexOf","length","setDuration","a","on","getDuration","setTimestamp","timestampTimer","setInterval","currentTime","clearInterval","track","user","username","artwork_url","replace","renderResult","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.1963804a.chunk.js","sourcesContent":["import { ReportHandler } from 'web-vitals';\n\nconst reportWebVitals = (onPerfEntry?: ReportHandler) => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","// @ts-ignore\nimport SC from 'soundcloud';\n\nconst SoundCloudAPI = {\n  init(ID: string) {\n    SC.initialize({\n      client_id: ID\n    });\n  },\n\n  async getTracks(\n    input: string,\n    func: (data: any) => void\n  ) {\n    const data = await SC.get('/tracks', {\n      q: input\n    })\n    func(data);\n  },\n\n  async getPlayer(trackId: number) {\n    return await SC.stream('/tracks/' + trackId);\n  },\n};\n\nexport default SoundCloudAPI;","import React, { useState, useRef } from 'react';\nimport styles from 'components/Searchbar.module.scss';\n\nexport default function Searchbar(\n  { returnInput }: {\n    returnInput: (input: string) => void;\n  }\n) {\n  const [input, setInput] = useState('');\n  const searchbar = useRef<null | HTMLInputElement>(null);\n\n  return (\n    <div id='searchBar'>\n      <input\n        autoFocus\n        type='text'\n        placeholder='Search'\n        ref={searchbar}\n        value={input}\n        onChange={\n          e => setInput(e.target.value)\n        }\n        onKeyUp={e =>\n          e.key === 'Enter' && returnInput((e.target as HTMLInputElement).value)\n        }\n      />\n      <div id='clearDiv'>\n        <span\n          id='clear'\n          className='material-icons btn'\n          onClick={() => {\n            setInput('');\n            searchbar.current && searchbar.current.focus();\n          }}\n        >\n          clear\n        </span>\n      </div>\n    </div>\n  );\n}","import styled from 'styled-components';\n\nconst SpinnerDiv = styled.div`\n  margin: auto;\n\n  @keyframes sk-stretchdelay {\n    0%, 40%, 100% { \n      transform: scaleY(0.4);\n    }  20% { \n      transform: scaleY(1.0);\n    }\n  }\n`;\n\nconst Rect = styled.div<{\n  num: number,\n  color: string,\n  height: number,\n  width: number,\n  index: number;\n}>`\n  display: inline-block;\n  background-color: ${props => props.color};\n  height: ${props => props.height}px;\n  width: ${props => props.width}px;\n  margin: 0 ${props => props.width / 3}px;\n\n  animation: sk-stretchdelay ${props => 0.7 + props.num / 10}s infinite ease-in-out;\n  animation-delay: -${props => 1.1 - props.index / 10}s;\n`;\n\nexport default function Spinner(\n  {\n    num = 5,\n    height = 50,\n    width = 6,\n    color = 'white'\n  }: {\n    num?: number,\n    color?: string,\n    height?: number,\n    width?: number;\n  }\n) {\n\n  return (\n    <SpinnerDiv>\n      {[...Array(num)].map((_, index) => (\n        <Rect\n          key={index}\n          index={index}\n          num={num}\n          color={color}\n          height={height}\n          width={width}\n        />\n      ))}\n    </SpinnerDiv>\n  );\n}\n","const getRefCurrent = <T>(ref: React.MutableRefObject<HTMLElement> | T) => {\n  return ((ref as React.MutableRefObject<HTMLElement>).current)\n    ? (ref as React.MutableRefObject<HTMLElement>).current\n    : ref as T;\n};\n\nexport default getRefCurrent;","import { useEffect, useRef } from 'react';\n\nimport getRefCurrent from 'functions/getRefCurrent';\n\nconst useEventListener = <\n  E extends HTMLElement | Document | Window,\n  T extends keyof HTMLElementEventMap | keyof DocumentEventMap | keyof WindowEventMap,\n  >(\n    eventTarget: React.MutableRefObject<HTMLElement> | E,\n    eventType: T | string,\n    listener: (\n      e:\n        T extends keyof HTMLElementEventMap ? HTMLElementEventMap[T]\n        : T extends keyof DocumentEventMap ? DocumentEventMap[T]\n        : T extends keyof WindowEventMap ? WindowEventMap[T]\n        : Event\n    ) => void,\n    options?: boolean | AddEventListenerOptions\n\n  ) => {\n\n  const savedListener = useRef(listener);\n  useEffect(() => {\n    savedListener.current = listener;\n  }, [listener]);\n\n  useEffect(() => {\n    const element = getRefCurrent(eventTarget);\n    if (!element || !element.addEventListener) return;\n\n    const wrappedListener: typeof savedListener.current = (e) => savedListener.current(e);\n    element.addEventListener(eventType, wrappedListener as EventListener, options);\n\n    return () => element.removeEventListener(eventType, wrappedListener as EventListener, options);\n  }, [eventTarget, eventType, options]);\n};\n\nexport default useEventListener;","const clamp = (\n  num: number,\n  min: number,\n  max: number\n) =>\n  Math.min(Math.max(num, min), max);\n\nexport default clamp;","import { useCallback, useEffect, useRef } from 'react';\nimport useEventListener from 'hooks/useEventListener';\nimport getRefCurrent from 'functions/getRefCurrent';\nimport clamp from 'functions/clamp';\n\nconst useDrag = <E extends HTMLElement | Document | Window>(\n  eventTarget: React.MutableRefObject<HTMLElement> | E,\n  movingTarget: React.MutableRefObject<HTMLElement> | HTMLElement = eventTarget as HTMLElement,\n\n) => {\n  const dragable = useRef(false);\n  const offset = useRef({ x: 0, y: 0 });\n  const pos = useRef({ x: 0, y: 0 });\n  const edge = useRef({ x: 0, y: 0 });\n\n  const getDist2Edge = useCallback(() => {\n    const movingElement = getRefCurrent(movingTarget);\n\n    return {\n      x: window.innerWidth - movingElement.offsetWidth,\n      y: window.innerHeight - movingElement.offsetHeight,\n    };\n  }, [movingTarget]);\n\n  useEffect(() => {\n    edge.current = getDist2Edge();\n  }, [getDist2Edge]);\n\n  useEventListener(window, 'resize', () => {\n    edge.current = getDist2Edge();\n    setPos();\n  });\n\n  useEventListener(eventTarget, 'mousedown', (e) => {\n    const movingElement = getRefCurrent(movingTarget);\n    dragable.current = true;\n\n    pos.current = {\n      x: e.clientX,\n      y: e.clientY\n    };\n\n    offset.current = {\n      x: pos.current.x - movingElement.offsetLeft,\n      y: pos.current.y - movingElement.offsetTop\n    };\n  }, true);\n\n  useEventListener(document, 'mouseup', () => {\n    dragable.current = false;\n  }, true);\n\n  useEventListener(document, 'mousemove', (e) => {\n    e.preventDefault();\n    if (dragable.current) setPos(e);\n  }, true);\n\n  const setPos = (e?: MouseEvent) => {\n    const movingElement = getRefCurrent(movingTarget);\n\n    pos.current = {\n      x: clamp((e?.clientX || pos.current.x + offset.current.x) - offset.current.x, 0, edge.current.x),\n      y: clamp((e?.clientY || pos.current.y + offset.current.y) - offset.current.y, 0, edge.current.y)\n    };\n\n    movingElement.style.left = pos.current.x + 'px';\n    movingElement.style.top = pos.current.y + 'px';\n  };\n};\n\nexport default useDrag;","import { useRef } from \"react\";\nimport styles from 'components/Miniplayer.module.scss';\n\nimport useDrag from 'hooks/useDrag';\n\nconst imgPlaceholder = 'data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7';\n\nconst displayTime = (seconds: number) => {\n  return [seconds % 3600 / 60, seconds % 60]\n    .map((val: number) =>\n      `0${Math.floor(val)}`.slice(-2)\n    )\n    .join(':');\n};\n\nexport default function MiniPlayer(\n  { info, ...props }: {\n    info: {\n      title: string,\n      artist: string,\n      imgURL: string,\n      timestamp: number,\n      duration: number\n    },\n    pause: boolean,\n    onPause: () => void,\n    skip: (next: boolean) => void\n  }\n) {\n  const miniplayer = useRef<null | HTMLDivElement>(null);\n  console.log('miniplayer', miniplayer);\n  \n  // @ts-ignore\n  useDrag(miniplayer);\n\n  return (\n    <div id='miniplayer' ref={miniplayer}>\n      <img\n        className='cover'\n        alt={info.title + ' cover'}\n        src={info.imgURL || imgPlaceholder}\n      />\n      <div id='overlay'>\n        <div className='info'>\n          <p className='title'>\n            {info.title}\n          </p>\n          <p className='artist'>\n            {info.artist}\n          </p>\n          <p className='timestamp'>\n            {displayTime(info.timestamp)} / {displayTime(info.duration)}\n          </p>\n        </div>\n        <div className='control'>\n          <span\n            id='previous'\n            className='material-icons btn'\n            onClick={() => props.skip(false)}\n          >\n            skip_previous\n          </span>\n          <span\n            id='play'\n            className='material-icons btn'\n            onClick={props.onPause}\n          >\n            {props.pause ? 'play_arrow' : 'pause'}\n          </span>\n          <span\n            id='next'\n            className='material-icons btn'\n            onClick={() => props.skip(true)}\n          >\n            skip_next\n          </span>\n        </div>\n      </div>\n    </div>\n  );\n}\n","import styles from 'components/Track.module.scss';\n\nconst imgPlaceholder = 'data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7';\n\nexport default function Card(\n  { info, play }: {\n    info: {\n      title: string,\n      artist: string,\n      imgURL: string;\n    },\n    play: () => void;\n  }\n) {\n  return (\n    <div\n      className='track'\n    >\n      <img\n        className='cover'\n        alt={info.title + ' cover'}\n        src={info.imgURL || imgPlaceholder}\n      />\n      <div className='info'>\n        <p className='title'>\n          {info.title}\n        </p>\n        <p className='artist'>\n          {info.artist}\n        </p>\n      </div>\n      <div className='control'>\n        <span\n          id='add'\n          className='material-icons btn'\n          onClick={play}\n        >\n          add_box\n        </span>\n      </div>\n    </div>\n  );\n}\n","import { useState, useEffect, useRef } from 'react';\nimport 'App.scss';\n\nimport SoundCloudAPI from 'utils/SCAPI';\nimport Searchbar from 'components/Searchbar';\nimport Spinner from 'components/Spinner';\nimport MiniPlayer from 'components/Miniplayer';\nimport Track from 'components/Track';\n\nconst milliseconds2seconds = (milliseconds: number) => {\n  return Math.floor(milliseconds / 1000);\n};\n\nfunction App() {\n  const API_ID = 'cd9be64eeb32d1741c17cb39e41d254d';\n\n  useEffect(() => {\n    SoundCloudAPI.init(API_ID);\n  }, []);\n\n\n  const [status, setStatus] = useState('coldStart');\n  const [tracks, setTracks] = useState<{ [name: string]: any; }[]>([]);\n\n  const fetchTracks = (input: string) => {\n    setStatus('fetching');\n    SoundCloudAPI.getTracks(input, (data: any) => {\n      setStatus('fetched');\n      setTracks(data);\n    });\n  };\n\n  const player = useRef<null | any>(null);\n  const [pause, setPause] = useState(false);\n\n  useEffect(() => {\n    if (player.current) {\n      pause ? player.current.pause() : player.current.play();\n    }\n  }, [pause]);\n\n\n  const [currentTrack, setCurrentTrack] = useState<null | { [name: string]: any; }>(null);\n\n  const changeTrack = (next: boolean) => {\n    setPause(true);\n\n    setCurrentTrack((currentTrack: any) => {\n      const currentTrackIndex = tracks.indexOf(currentTrack);\n      const nextTrackIndex = next\n        ? currentTrackIndex + 1\n        : currentTrackIndex - 1;\n\n      return tracks[nextTrackIndex] || (\n        tracks.length === 0\n          ? currentTrack\n          : next\n            ? tracks[0]\n            : tracks[tracks.length - 1]\n      );\n    });\n  };\n\n\n  const [duration, setDuration] = useState(1);\n\n  useEffect(() => {\n    (currentTrack) && (async () => {\n      player.current = await SoundCloudAPI.getPlayer(currentTrack.id);\n\n      player.current.play();\n      player.current.on('play-start', () => {\n        setDuration(\n          milliseconds2seconds(player.current.getDuration())\n        );\n        setPause(false);\n      });\n    })();\n  }, [currentTrack]);\n\n\n  const [timestamp, setTimestamp] = useState(0);\n\n  useEffect(() => {\n    const timestampTimer = setInterval(() => {\n      player.current && setTimestamp(\n        milliseconds2seconds(player.current.currentTime())\n      );\n    }, 1000);\n\n    return () => clearInterval(timestampTimer);\n  }, []);\n\n  if (!pause && timestamp === duration) {\n    console.log(timestamp, duration);\n    changeTrack(true);\n  }\n\n  const renderResult = () => {\n    switch (status) {\n      case 'fetching':\n        return <Spinner />;\n      case 'fetched':\n        return tracks.length === 0\n          ? <div id='noResult'>No Result :(</div>\n          : tracks.map((track, index) => (\n            <Track\n              key={index}\n              info={{\n                title: track.title,\n                artist: track.user.username,\n                imgURL: track.artwork_url?.replace(/large(?=.jpg)/i, 'small')\n              }}\n              play={() => setCurrentTrack(tracks[index])}\n            />\n          ));\n      default:\n        return;\n    }\n  };\n\n  return <>\n    <Searchbar returnInput={fetchTracks} />\n    <div id='searchResults'>\n      {renderResult()}\n    </div>\n    {currentTrack && (\n      <MiniPlayer\n        info={{\n          title: currentTrack.title,\n          artist: currentTrack.user.username,\n          timestamp: timestamp,\n          duration: duration,\n          imgURL: currentTrack.artwork_url?.replace(/large(?=.jpg)/i, 't500x500')\n        }}\n        pause={pause}\n        onPause={() => setPause(pause => !pause)}\n        skip={changeTrack}\n      />\n    )}\n  </>;\n};\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\n\nimport 'index.css';\nimport reportWebVitals from 'reportWebVitals';\n\nimport App from 'App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\nreportWebVitals();\n"],"sourceRoot":""}