{"version":3,"sources":["utils/SCAPI.js","components/searchbar.js","components/spinner.js","functions/getRefCurrent.js","hooks/useEventListener.js","functions/clamp.js","hooks/useDrag.js","components/miniplayer.js","components/track.js","App.js","reportWebVitals.js","index.js"],"names":["SoundCloudAPI","init","ID","SC","initialize","client_id","getTracks","input","func","get","q","then","data","getPlayer","trackId","stream","Searchbar","props","useState","setInput","searchbar","useRef","id","autoFocus","type","placeholder","ref","value","onChange","e","target","onKeyUp","key","returnInput","className","onClick","current","focus","SpinnerDiv","styled","div","Rect","color","height","width","num","index","Spinner","numOfRect","Array","map","_","getRefCurrent","hasOwnProperty","useEventListener","eventTarget","eventType","handler","options","savedHandler","useEffect","element","addEventListener","listener","event","removeEventListener","clamp","min","max","Math","useDrag","movingTarget","dragable","offset","x","y","pos","edge","getDist2Edge","useCallback","movingElement","window","innerWidth","offsetWidth","innerHeight","offsetHeight","setPos","clientX","clientY","offsetLeft","offsetTop","document","preventDefault","style","left","top","displayTime","seconds","val","floor","slice","join","MiniPlayer","info","miniplayer","alt","title","src","imgURL","artist","timestamp","duration","skip","onPause","pause","Card","play","milliseconds2seconds","milliseconds","App","player","status","setStatus","tracks","setTracks","currentTrack","setCurrentTrack","changeTrack","next","currentTrackIndex","indexOf","setDuration","a","setPause","on","getDuration","setTimestamp","setTimeout","currentTime","length","track","user","username","artwork_url","replace","renderResult","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.1c8f619d.chunk.js","sourcesContent":["import SC from 'soundcloud';\n\nconst SoundCloudAPI = {\n  init(ID) {\n    SC.initialize({\n      client_id: ID\n    });\n  },\n\n  getTracks(input, func) {\n    SC.get('/tracks', {\n      q: input\n    }).then(\n      data => func(data)\n    );\n  },\n\n  async getPlayer(trackId) {\n    return await SC.stream('/tracks/' + trackId);\n  },\n};\n\nexport default SoundCloudAPI;","import React, { useState, useRef } from 'react';\n\nexport default function Searchbar(props) {\n  const [input, setInput] = useState('');\n  const searchbar = useRef();\n\n  return (\n    <div id='searchBar'>\n      <input\n        autoFocus\n        type='text'\n        placeholder='Search'\n        ref={searchbar}\n        value={input}\n        onChange={\n          e => setInput(e.target.value)\n        }\n        onKeyUp={e => \n          e.key === 'Enter' && props.returnInput(e.target.value)\n        }\n      />\n      <div id='clearDiv'>\n        <span\n          id='clear'\n          className='material-icons btn'\n          onClick={() => {\n            setInput('');\n            searchbar.current.focus();\n          }}\n        >\n          clear\n        </span>\n      </div>\n    </div>\n  );\n}","import React from 'react';\nimport styled from 'styled-components';\n\nconst SpinnerDiv = styled.div`\n  margin: auto;\n\n  @keyframes sk-stretchdelay {\n    0%, 40%, 100% { \n      transform: scaleY(0.4);\n    }  20% { \n      transform: scaleY(1.0);\n    }\n  }\n`;\n\nconst Rect = styled.div`\n  display: inline-block;\n  background-color: ${props => props.color || 'white'};\n  height: ${props => props.height || 50}px;\n  width: ${props => props.width || 6}px;\n  margin: 0 ${props => props.width / 3 || 2}px;\n\n  animation: sk-stretchdelay ${props => 0.7 + props.num / 10}s infinite ease-in-out;\n  animation-delay: -${props => 1.1 - props.index / 10}s;\n`;\n\nexport default function Spinner(props) {\n  const numOfRect = props.num || 5;\n\n  return (\n    <SpinnerDiv>\n      {[...Array(numOfRect)].map((_, index) => (\n        <Rect\n          key={index}\n          index={index}\n          num={numOfRect}\n          color={props.color}\n          height={props.height}\n          width={props.width}\n        />\n      ))}\n    </SpinnerDiv>\n  );\n}\n","const getRefCurrent = (ref) => {\n  return ref.hasOwnProperty(\"current\")\n    ? ref.current\n    : ref;\n};\n\nexport default getRefCurrent;","import { useEffect, useRef } from 'react';\nimport getRefCurrent from 'functions/getRefCurrent';\n\nconst useEventListener = (eventTarget, eventType, handler, options = {}) => {\n  const savedHandler = useRef(null);\n  useEffect(() => {\n    savedHandler.current = handler;\n  }, [handler]);\n\n  useEffect(() => {\n    const element = getRefCurrent(eventTarget);\n    if (!element || !element.addEventListener) return;\n\n    const listener = (event) => savedHandler.current(event);\n    element.addEventListener(eventType, listener, options);\n\n    return () => element.removeEventListener(eventType, listener, options);\n  }, [eventTarget, eventType, options]);\n};\n\nexport default useEventListener;","const clamp = (num, min, max) => Math.min(Math.max(num, min), max);\n\nexport default clamp;","import { useCallback, useEffect, useRef } from 'react';\nimport useEventListener from 'hooks/useEventListener';\nimport getRefCurrent from 'functions/getRefCurrent';\nimport clamp from 'functions/clamp';\n\nconst useDrag = (\n  eventTarget,\n  movingTarget = eventTarget,\n\n) => {\n\n  const dragable = useRef(false);\n  const offset = useRef({ x: 0, y: 0 });\n  const pos = useRef({ x: 0, y: 0 });\n  const edge = useRef({ x: 0, y: 0 });\n\n  const getDist2Edge = useCallback(() => {\n    const movingElement = getRefCurrent(movingTarget);\n\n    return {\n      x: window.innerWidth - movingElement.offsetWidth,\n      y: window.innerHeight - movingElement.offsetHeight,\n    };\n  }, [movingTarget]);\n\n  useEffect(() => {\n    edge.current = getDist2Edge();\n  }, [getDist2Edge]);\n\n  useEventListener(window, 'resize', () => {\n    edge.current = getDist2Edge();\n    setPos();\n  });\n\n  useEventListener(eventTarget, 'mousedown', (e) => {\n    const movingElement = getRefCurrent(movingTarget);\n    dragable.current = true;\n\n    pos.current = {\n      x: e.clientX,\n      y: e.clientY\n    };\n\n    offset.current = {\n      x: pos.current.x - movingElement.offsetLeft,\n      y: pos.current.y - movingElement.offsetTop\n    };\n  }, true);\n\n  useEventListener(document, 'mouseup', () => {\n    dragable.current = false;\n  }, true);\n\n  useEventListener(document, 'mousemove', (e) => {\n    e.preventDefault();\n    if (dragable.current) setPos(e);\n  }, true);\n\n  const setPos = (e) => {\n    const movingElement = getRefCurrent(movingTarget);\n\n    pos.current = {\n      x: clamp((e?.clientX || pos.current.x + offset.current.x) - offset.current.x, 0, edge.current.x),\n      y: clamp((e?.clientY || pos.current.y + offset.current.y) - offset.current.y, 0, edge.current.y)\n    };\n\n    movingElement.style.left = pos.current.x + 'px';\n    movingElement.style.top = pos.current.y + 'px';\n  };\n};\n\nexport default useDrag;","import { useRef } from \"react\";\nimport useDrag from 'hooks/useDrag';\n\nconst imgPlaceholder = 'data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7';\n\nfunction displayTime(seconds) {\n  const format = val => `0${Math.floor(val)}`.slice(-2);\n  return [seconds % 3600 / 60, seconds % 60].map(format).join(':');\n}\n\nexport default function MiniPlayer({ info, ...props }) {\n  const miniplayer = useRef();\n  useDrag(miniplayer);\n\n  return (\n    <div id='miniplayer' ref={miniplayer}>\n      <img\n        className='cover'\n        alt={info.title + ' cover'}\n        src={info.imgURL || imgPlaceholder}\n      />\n      <div id='overlay'>\n        <div className='info'>\n          <p className='title'>\n            {info.title}\n          </p>\n          <p className='artist'>\n            {info.artist}\n          </p>\n          <p className='timestamp'>\n            {displayTime(info.timestamp)} / {displayTime(info.duration)}\n          </p>\n        </div>\n        <div className='control'>\n          <span\n            id='previous'\n            className='material-icons btn'\n            onClick={() => props.skip(false)}\n          >\n            skip_previous\n          </span>\n          <span\n            id='play'\n            className='material-icons btn'\n            onClick={props.onPause}\n          >\n            {props.pause ? 'play_arrow' : 'pause'}\n          </span>\n          <span\n            id='next'\n            className='material-icons btn'\n            onClick={() => props.skip(true)}\n          >\n            skip_next\n          </span>\n        </div>\n      </div>\n    </div>\n  );\n}\n","const imgPlaceholder = 'data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7';\n\nexport default function Card({info, ...props}) {\n  return (\n    <div\n      className='track'\n    >\n      <img\n        className='cover'\n        alt={info.title + ' cover'}\n        src={info.imgURL || imgPlaceholder}\n      />\n      <div className='info'>\n        <p className='title'>\n          {info.title}\n        </p>\n        <p className='artist'>\n          {info.artist}\n        </p>\n      </div>\n      <div className='control'>\n        <span\n          id='add'\n          className='material-icons btn'\n          onClick={props.play}\n        >\n          add_box\n          </span>\n      </div>\n    </div>\n  );\n}\n","import React, { useState, useEffect, useRef, useCallback } from 'react';\nimport 'App.css';\n\nimport SoundCloudAPI from 'utils/SCAPI';\nimport Searchbar from 'components/searchbar';\nimport Spinner from 'components/spinner';\nimport MiniPlayer from 'components/miniplayer';\nimport Track from 'components/track';\n\nconst milliseconds2seconds = (milliseconds) => {\n  return Math.floor(milliseconds / 1000);\n};\n\nfunction App() {\n  const API_ID = 'cd9be64eeb32d1741c17cb39e41d254d';\n  const player = useRef();\n\n  useEffect(() => {\n    SoundCloudAPI.init(API_ID);\n  }, []);\n\n  const [status, setStatus] = useState('coldStart');\n  const [tracks, setTracks] = useState([]);\n\n  const fetchTracks = (input) => {\n    setStatus('fetching');\n    SoundCloudAPI.getTracks(input, data => {\n      setStatus('fetched');\n      setTracks(data);\n    });\n  };\n\n  const [currentTrack, setCurrentTrack] = useState(null);\n  const changeTrack = useCallback((next) => {\n    setCurrentTrack((currentTrack) => {\n      const currentTrackIndex = tracks.indexOf(currentTrack);\n      const nextTrackIndex = next ? currentTrackIndex + 1 : currentTrackIndex - 1;\n      return tracks[nextTrackIndex] || currentTrack;\n    });\n  }, [tracks]);\n\n  const [duration, setDuration] = useState(1);\n  useEffect(() => currentTrack && (async () => {\n    setPause(true);\n    player.current = await SoundCloudAPI.getPlayer(currentTrack.id);\n    setPause(false);\n\n    player.current.play();\n    player.current.on('play-start',\n      () => setDuration(\n        milliseconds2seconds(player.current.getDuration())\n      )\n    );\n  })(), [currentTrack]);\n\n  const [timestamp, setTimestamp] = useState(0);\n  useEffect(() => {\n    setTimeout(() => {\n      player.current && setTimestamp(\n        milliseconds2seconds(player.current.currentTime())\n      );\n      if (timestamp === duration) changeTrack(true);\n    }, 1000);\n  }, [changeTrack, duration, timestamp]);\n\n  const [pause, setPause] = useState(false);\n  useEffect(() => player.current && (\n    pause ? player.current.pause() : player.current.play()\n  ), [pause]);\n\n  const renderResult = () => {\n    switch (status) {\n      case 'fetching':\n        return <Spinner />;\n      case 'fetched':\n        return tracks.length === 0\n          ? <div id='noResult'>No Result :(</div>\n          : tracks.map((track, index) => (\n            <Track\n              key={index}\n              info={{\n                title: track.title,\n                artist: track.user.username,\n                imgURL: track.artwork_url?.replace(/large(?=.jpg)/i, 'small')\n              }}\n              play={() => setCurrentTrack(tracks[index])}\n            />\n          ));\n      default:\n        return;\n    }\n  };\n\n  return <>\n    <Searchbar returnInput={fetchTracks} />\n    <div id='searchResults'>\n      {renderResult()}\n    </div>\n    {currentTrack && (\n      <MiniPlayer\n        info={{\n          trackId: currentTrack.id,\n          title: currentTrack.title,\n          artist: currentTrack.user.username,\n          timestamp: timestamp,\n          duration: duration,\n          imgURL: currentTrack.artwork_url?.replace(/large(?=.jpg)/i, 't500x500')\n        }}\n        pause={pause}\n        onPause={() => setPause(pause => !pause)}\n        skip={changeTrack}\n      />\n    )}\n  </>;\n};\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport 'index.css';\nimport App from 'App';\nimport reportWebVitals from 'reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\nreportWebVitals();\n"],"sourceRoot":""}