(this.webpackJsonpcrats=this.webpackJsonpcrats||[]).push([[0],{21:function(e,t,n){e.exports={btn:"Button_btn__9RM5l",bigWhite:"Button_bigWhite__EggS7"}},22:function(e,t,n){e.exports={trackList:"TrackList_trackList__2MUcw",paginationResult:"TrackList_paginationResult__3lMZa"}},24:function(e,t,n){e.exports={rejected:"MessageDisplay_rejected__3dR_z",warning:"MessageDisplay_warning__1RBx6",error:"MessageDisplay_error__2detH"}},25:function(e,t,n){e.exports={searchbar:"Searchbar_searchbar__-X5cQ",searchbarControl:"Searchbar_searchbarControl__1G93j"}},29:function(e,t,n){e.exports={main:"App_main__3T6IN"}},3:function(e,t,n){e.exports={miniplayer:"Miniplayer_miniplayer__2E8Qt",cover:"Miniplayer_cover__CKtS-",overlay:"Miniplayer_overlay__22zGG",draggie:"Miniplayer_draggie__2uRry",expand:"Miniplayer_expand__GDrpU",info:"Miniplayer_info__GK1y_",title:"Miniplayer_title__3v4w-",artist:"Miniplayer_artist__bb67l",timestamp:"Miniplayer_timestamp__2SVyR",control:"Miniplayer_control__3gFYx",play:"Miniplayer_play__24ico"}},33:function(e,t,n){e.exports={suggestions:"Suggestions_suggestions__3TkvS"}},35:function(e,t,n){},49:function(e,t,n){"use strict";n.r(t);n(35);var r=n(0),a=n.n(r),c=n(18),i=n.n(c),s=n(16),o=n(27),u=n(4),l=n(6),d=n(8),f=n(28),b=n.n(f),j=n(2),h=n.n(j),p=n(5),v=n(20),x=n.n(v),m=function(e,t,n){return Math.min(Math.max(e,t),n)},k=function(e){return Math.floor(e/1e3)},O=function(e){return[e%3600/60,e%60].map((function(e){return"0".concat(Math.floor(e)).slice(-2)})).join(":")};x.a.initialize({client_id:"cd9be64eeb32d1741c17cb39e41d254d"});var y,g,_=function(){var e=Object(p.a)(h.a.mark((function e(t,n,r){var a,c,i;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,x.a.get("/tracks",{q:t,limit:n,offset:r,linked_partitioning:1});case 2:return a=e.sent,c=a.collection,i=a.next_href,e.abrupt("return",{tracks:c,nextQuery:i});case 6:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}(),w=Object(l.b)("tracks/searchForTracks",(function(e){return z(Object(p.a)(h.a.mark((function t(){var n,r;return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,_(e,20,0);case 2:return n=t.sent,r=n.tracks,t.abrupt("return",{tracks:r,input:e,limit:20,offset:20});case 5:case"end":return t.stop()}}),t)}))))})),T=Object(l.b)("tracks/queryNextPage",(function(e,t){var n=t.getState;return z(Object(p.a)(h.a.mark((function e(){var t,r,a,c,i,s,o;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=n().soundcloud,r=t.input,a=t.limit,c=t.offset,e.next=3,_(r,a,c);case 3:return i=e.sent,s=i.tracks,o=i.nextQuery,e.abrupt("return",{tracks:s,offset:c+a,isThereMoreTracks:!!o});case 7:case"end":return e.stop()}}),e)}))))})),S=Object(l.b)("tracks/playTrack",(function(e){return z(Object(p.a)(h.a.mark((function t(){return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,x.a.stream("/tracks/"+e);case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)}))))})),C=Object(l.b)("tracks/prevTrack",(function(e,t){var n=t.getState;return z(Object(p.a)(h.a.mark((function e(){var t,r,a;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=n().soundcloud,e.t0=null===(t=a.player)||void 0===t?void 0:t.isPlaying(),!e.t0){e.next=5;break}return e.next=5,null===(r=a.player)||void 0===r?void 0:r.pause();case 5:return e.abrupt("return",a.currentTrackIndex<=0?a.tracks.length-1:a.currentTrackIndex-1);case 6:case"end":return e.stop()}}),e)}))))})),A=Object(l.b)("tracks/nextTrack",(function(e,t){var n=t.getState;return z(Object(p.a)(h.a.mark((function e(){var t,r,a,c;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=n().soundcloud,r=t.player,a=t.currentTrackIndex,c=t.tracks,e.t0=null===r||void 0===r?void 0:r.isPlaying(),!e.t0){e.next=5;break}return e.next=5,null===r||void 0===r?void 0:r.pause();case 5:return e.abrupt("return",a>=c.length-1?0:a+1);case 6:case"end":return e.stop()}}),e)}))))})),M=Object(l.b)("tracks/pauseTrack",(function(e,t){var n=t.getState;return z(Object(p.a)(h.a.mark((function t(){var r;return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r=n().soundcloud.player,!e){t.next=8;break}if(t.t0=null===r||void 0===r?void 0:r.isPlaying(),!t.t0){t.next=6;break}return t.next=6,null===r||void 0===r?void 0:r.pause();case 6:t.next=12;break;case 8:if(t.t1=!(null===r||void 0===r?void 0:r.isPlaying()),!t.t1){t.next=12;break}return t.next=12,null===r||void 0===r?void 0:r.play();case 12:return t.abrupt("return",e);case 13:case"end":return t.stop()}}),t)}))))})),N=Object(l.b)("tracks/seekTrack",function(){var e=Object(p.a)(h.a.mark((function e(t,n){var r;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=n.getState,e.abrupt("return",z(Object(p.a)(h.a.mark((function e(){var n,a,c;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=r().soundcloud.player){e.next=3;break}return e.abrupt("return");case 3:return a=n.currentTime(),c=m(a+1e3*t,0,n.getDuration()),e.next=7,null===n||void 0===n?void 0:n.seek(c);case 7:case"end":return e.stop()}}),e)})))));case 2:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),R=Object(l.d)({name:"soundcloud",initialState:{searchStatus:"idle",tracks:[],currentTrack:null,currentTrackIndex:-1,player:null,isPaused:!1,paginationStatus:"idle",input:"",limit:10,offset:0},reducers:{changeTrack:function(e,t){e.currentTrackIndex=t.payload,e.currentTrack=e.tracks[e.currentTrackIndex]}},extraReducers:function(e){e.addCase(w.pending,(function(e){e.searchStatus="pending"})).addCase(w.fulfilled,(function(e,t){e.searchStatus="fulfilled",e.tracks=t.payload.tracks,e.input=t.payload.input,e.limit=t.payload.limit,e.offset=t.payload.offset})).addCase(w.rejected,(function(e){e.searchStatus="rejected"})).addCase(T.pending,(function(e){e.paginationStatus="pending"})).addCase(T.fulfilled,(function(e,t){t.payload.isThereMoreTracks?(e.paginationStatus="idle",e.tracks=e.tracks.concat(t.payload.tracks),e.offset=t.payload.offset):e.paginationStatus="fulfilled"})).addCase(T.rejected,(function(e){e.paginationStatus="rejected"})).addCase(S.fulfilled,(function(e,t){e.player=t.payload})).addCase(C.fulfilled,(function(e,t){e.currentTrackIndex=t.payload,e.currentTrack=e.tracks[e.currentTrackIndex]})).addCase(A.fulfilled,(function(e,t){e.currentTrackIndex=t.payload,e.currentTrack=e.tracks[e.currentTrackIndex]})).addCase(M.fulfilled,(function(e,t){e.isPaused=t.payload})).addCase(N.fulfilled,(function(){}))}}),E=R.actions.changeTrack,L=R.reducer,I=Object(l.c)((function(e){return e.soundcloud}),(function(e){return e})),D={key:"root",storage:b.a,whitelist:[]},P=Object(u.b)({soundcloud:L}),H=Object(d.g)(D,P),B=Object(l.a)({reducer:H,middleware:function(e){return e({serializableCheck:{ignoredActions:[d.a,d.f,d.b,d.c,d.d,d.e,"tracks/playTrack/fulfilled"],ignoredPaths:["soundcloud.player","soundcloud.tracks"]}})}}),Y=Object(d.h)(B),z=function(e){try{return e()}catch(t){return console.error("redux store error:",t),t}},G=n(29),W=n.n(G),F=function(){return Object(s.b)()},K=s.c,Q=n(34),U=n(13),q=n(14),J=n(1),V=q.a.div(y||(y=Object(U.a)(["\n  margin: auto;\n\n  @keyframes sk-stretchdelay {\n    0%, 40%, 100% { \n      transform: scaleY(0.4);\n    }  20% { \n      transform: scaleY(1.0);\n    }\n  }\n"]))),X=q.a.div(g||(g=Object(U.a)(["\n  display: inline-block;\n  background-color: ",";\n  height: ","px;\n  width: ","px;\n  margin: 0 ","px;\n\n  animation: sk-stretchdelay ","s infinite ease-in-out;\n  animation-delay: -","s;\n"])),(function(e){return e.color}),(function(e){return e.height}),(function(e){return e.width}),(function(e){return e.width/3}),(function(e){return.7+e.num/10}),(function(e){return 1.1-e.index/10}));function Z(e){var t=e.num,n=void 0===t?5:t,r=e.height,a=void 0===r?50:r,c=e.width,i=void 0===c?6:c,s=e.color,o=void 0===s?"white":s;return Object(J.jsx)(V,{children:Object(Q.a)(Array(n)).map((function(e,t){return Object(J.jsx)(X,{index:t,num:n,color:o,height:a,width:i},t)}))})}var $=n(7),ee=n(11),te=n(24),ne=n.n(te);var re=function(e){var t=e.iconCode,n=e.message,r=e.className,a=e.severity,c=void 0===a?"default":a,i=Object(ee.a)(e,["iconCode","message","className","severity"]);return Object(J.jsxs)("div",Object($.a)(Object($.a)({className:"\n        ".concat(ne.a.rejected," \n        ").concat(ne.a[c]," \n        ").concat(r||"","\n      ")},i),{},{children:[Object(J.jsx)("div",{className:"material-icons",children:t}),n]}))},ae=n(17),ce=n(25),ie=n.n(ce),se=function(e,t,n,a){var c=Object(r.useRef)(n);Object(r.useEffect)((function(){c.current=n}),[n]),Object(r.useEffect)((function(){if(e&&e.addEventListener){var n=function(e){return c.current(e)};return e.addEventListener(t,n,a),function(){return e.removeEventListener(t,n,a)}}}),[e,t,a])},oe=n(21),ue=n.n(oe);var le=function(e){var t=e.children,n=e.type,r=void 0===n?"button":n,a=e.styledAs,c=e.className,i=Object(ee.a)(e,["children","type","styledAs","className"]);return Object(J.jsx)("button",Object($.a)(Object($.a)({className:"\n        ".concat(ue.a.btn," \n        ").concat(a?ue.a[a]:ue.a.default," \n        ").concat(c||"","\n      "),type:r},i),{},{children:t}))};function de(){var e=F(),t=Object(r.useState)(""),n=Object(ae.a)(t,2),a=n[0],c=n[1],i=Object(r.useRef)(null),s=function(){e(w(a))};return se(document.body,"keydown",(function(e){var t;"/"===e.key&&(e.preventDefault(),null===(t=i.current)||void 0===t||t.focus())})),Object(J.jsxs)("div",{id:ie.a.searchbar,children:[Object(J.jsx)("input",{autoFocus:!0,placeholder:"Search",ref:i,value:a,onChange:function(e){return c(e.target.value)},onKeyUp:function(e){"Enter"===e.key&&s()}}),Object(J.jsxs)("div",{id:ie.a.searchbarControl,children:[Object(J.jsx)(le,{className:"material-icons",onClick:s,children:"search"}),Object(J.jsx)(le,{className:"material-icons",onClick:function(){c(""),i.current&&i.current.focus()},children:"clear"})]})]})}var fe=n(33),be=n.n(fe),je=["DROELOE","Illenium","San Holo","Christian Loffler","REZZ","Lastlings","Porter Robinson","Madeon","Excision","Culture Shock","Vanic","Regard","William Black","MitiS","Koven","Dabin","Alok","Skan","Hybrid Minds","KSHMR","Robin Schulz"],he=["hsl(272, 7%, 23%)","hsl(80, 1%, 20%)","hsl(312, 24%, 24%)","hsl(352, 33%, 45%)","hsl(300, 9%, 41%)","hsl(267, 21%, 7%)","hsl(359, 32%, 26%)","hsl(19, 39%, 41%)","hsl(207, 35%, 42%)","hsl(215, 43%, 25%)","hsl(352, 18%, 27%)","hsl(177, 29%, 34%)","hsl(193, 39%, 16%)","hsl(74, 24%, 32%)","hsl(130, 26%, 35%)","hsl(64, 14%, 36%)","hsl(171, 14%, 36%)"];var pe=function(){var e=F();return Object(J.jsx)("div",{id:be.a.suggestions,children:je.map((function(t,n){var r,a,c=he[(r=0,a=he.length,Math.floor(Math.random()*(a-r)+r))];return Object(J.jsx)("button",{style:{backgroundColor:c},onClick:function(){return e(w(t))},children:t},n)}))})},ve=n(3),xe=n.n(ve),me="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7";var ke=function(e){var t=e.controlledMode,n=void 0!==t&&t,a=e.children,c=Object(ee.a)(e,["controlledMode","children"]),i=Object(r.useRef)(null),s=Object(r.useRef)(!1),o=Object(r.useRef)({x:0,y:0}),u=Object(r.useRef)({x:0,y:0}),l=Object(r.useRef)({x:0,y:0}),d=Object(r.useCallback)((function(){var e,t;return{x:document.body.clientWidth-((null===(e=i.current)||void 0===e?void 0:e.offsetWidth)||0),y:document.body.clientHeight-((null===(t=i.current)||void 0===t?void 0:t.offsetHeight)||0)}}),[]),f=Object(r.useCallback)((function(e){u.current={x:m(((null===e||void 0===e?void 0:e.clientX)||u.current.x+o.current.x)-o.current.x,0,l.current.x),y:m(((null===e||void 0===e?void 0:e.clientY)||u.current.y+o.current.y)-o.current.y,0,l.current.y)},i.current&&(i.current.style.left=u.current.x+"px",i.current.style.top=u.current.y+"px")}),[]);return Object(r.useEffect)((function(){var e,t;l.current=d(),u.current={x:(null===(e=i.current)||void 0===e?void 0:e.offsetLeft)||0,y:(null===(t=i.current)||void 0===t?void 0:t.offsetTop)||0}}),[d]),se(window,"resize",(function(){l.current=d(),f()})),se(document,"mouseup",(function(){s.current=!1}),!0),se(document,"mousemove",(function(e){e.preventDefault(),s.current&&f(e)}),!0),Object(J.jsx)("div",Object($.a)(Object($.a)({},c),{},{style:{position:"fixed"},ref:i,onMouseDown:function(e){var t,r;n&&!e.target.classList.contains("draggie")||(s.current=!0,u.current={x:e.clientX,y:e.clientY},o.current={x:u.current.x-((null===(t=i.current)||void 0===t?void 0:t.offsetLeft)||0),y:u.current.y-((null===(r=i.current)||void 0===r?void 0:r.offsetTop)||0)})},children:a}))};function Oe(){var e,t=F(),n=K(I),a=n.player,c=n.currentTrack,i=n.isPaused,s=Object(r.useState)(0),o=Object(ae.a)(s,2),u=o[0],l=o[1],d=Object(r.useState)(1),f=Object(ae.a)(d,2),b=f[0],j=f[1];return Object(r.useEffect)((function(){Object(p.a)(h.a.mark((function e(){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,a.play();case 4:j(a.getDuration()),l(0);case 6:case"end":return e.stop()}}),e)})))()}),[t,a]),Object(r.useEffect)((function(){if(a){var e=setInterval((function(){var e=a.currentTime();e>=b?t(A()):l(e)}),1e3);return function(){return clearInterval(e)}}}),[t,a,b]),c&&Object(J.jsxs)(ke,{controlledMode:!0,id:xe.a.miniplayer,children:[Object(J.jsx)("img",{className:xe.a.cover,alt:c.title+" cover",src:(null===(e=c.artwork_url)||void 0===e?void 0:e.replace(/large(?=.jpg)/i,"t500x500"))||me}),Object(J.jsxs)("div",{id:xe.a.overlay,children:[Object(J.jsx)(le,{id:xe.a.draggie,className:"material-icons draggie",children:"drag_indicator"}),Object(J.jsx)(le,{id:xe.a.expand,className:"material-icons",children:"launch"}),Object(J.jsxs)("div",{className:xe.a.info,children:[Object(J.jsx)("p",{className:xe.a.title,children:c.title}),Object(J.jsx)("p",{className:xe.a.artist,children:c.user.username}),Object(J.jsxs)("p",{className:xe.a.timestamp,children:[O(k(u))," / ",O(k(b))]})]}),Object(J.jsxs)("div",{className:xe.a.control,children:[Object(J.jsx)(le,{id:xe.a.rewind,className:"material-icons",onClick:function(){return t(N(-10))},children:"fast_rewind"}),Object(J.jsx)(le,{id:xe.a.previous,className:"material-icons",onClick:function(){return t(C())},children:"skip_previous"}),Object(J.jsx)(le,{id:xe.a.play,className:"material-icons",onClick:function(){return t(M(!i))},children:(null===a||void 0===a?void 0:a.isPlaying())?"pause":"play_arrow"}),Object(J.jsx)(le,{id:xe.a.next,className:"material-icons",onClick:function(){return t(A())},children:"skip_next"}),Object(J.jsx)(le,{id:xe.a.forward,className:"material-icons",onClick:function(){return t(N(10))},children:"fast_forward"})]})]})]})}var ye,ge,_e=n(22),we=n.n(_e),Te=q.a.div(ye||(ye=Object(U.a)(["\n  width: 40px;\n  height: 40px;\n  position: relative;\n  animation: sk-chase 2.5s infinite linear both;\n\n  @keyframes sk-chase {\n    100% { transform: rotate(360deg); } \n  }\n  \n  @keyframes sk-chase-dot {\n    80%, 100% { transform: rotate(360deg); } \n  }\n  \n  @keyframes sk-chase-dot-before {\n    50% {\n      transform: scale(0.4); \n    } 100%, 0% {\n      transform: scale(1.0); \n    } \n  }\n"]))),Se=q.a.div(ge||(ge=Object(U.a)(["\n  width: 100%;\n  height: 100%;\n  position: absolute;\n  left: 0;\n  top: 0; \n  animation: sk-chase-dot 2.0s infinite ease-in-out both; \n\n  &:before {\n    content: '';\n    display: block;\n    width: 25%;\n    height: 25%;\n    background-color: #fff;\n    border-radius: 100%;\n    animation: sk-chase-dot-before 2.0s infinite ease-in-out both; \n  }\n\n  &:nth-child(1) { animation-delay: -1.1s; }\n  &:nth-child(2) { animation-delay: -1.0s; }\n  &:nth-child(3) { animation-delay: -0.9s; }\n  &:nth-child(4) { animation-delay: -0.8s; }\n  &:nth-child(5) { animation-delay: -0.7s; }\n  &:nth-child(6) { animation-delay: -0.6s; }\n  &:nth-child(1):before { animation-delay: -1.1s; }\n  &:nth-child(2):before { animation-delay: -1.0s; }\n  &:nth-child(3):before { animation-delay: -0.9s; }\n  &:nth-child(4):before { animation-delay: -0.8s; }\n  &:nth-child(5):before { animation-delay: -0.7s; }\n  &:nth-child(6):before { animation-delay: -0.6s; }\n"])));var Ce=function(){return Object(J.jsxs)(Te,{children:[Object(J.jsx)(Se,{}),Object(J.jsx)(Se,{}),Object(J.jsx)(Se,{}),Object(J.jsx)(Se,{}),Object(J.jsx)(Se,{})]})},Ae=n(9),Me=n.n(Ae);var Ne=function(e){var t=e.info,n=e.play;return Object(J.jsxs)("div",{className:Me.a.track,children:[Object(J.jsxs)("div",{className:Me.a.coverDiv,children:[Object(J.jsx)("img",{className:Me.a.cover,alt:t.title+" cover",src:t.artworkURL||me}),Object(J.jsx)(le,{className:"material-icons",onClick:n,children:"play_arrow"})]}),Object(J.jsxs)("div",{className:Me.a.info,children:[Object(J.jsx)("p",{className:Me.a.title,children:t.title}),Object(J.jsx)("p",{className:Me.a.artist,children:t.artist})]}),Object(J.jsx)("div",{className:Me.a.control,children:Object(J.jsx)(le,{className:"material-icons",children:"add_box"})})]})};var Re=function(){var e=F(),t=K(I),n=t.tracks,a=t.paginationStatus,c=Object(r.useRef)(null);return se(window,"scroll",(function(){var t=c.current;if(t&&"idle"===a){var n=t.offsetTop+t.clientHeight;window.pageYOffset+window.innerHeight>=n&&e(T())}})),Object(J.jsxs)("div",{id:we.a.trackList,ref:c,children:[n.map((function(t,n){var r;return Object(J.jsx)(Ne,{info:{title:t.title,artist:t.user.username,artworkURL:null===(r=t.artwork_url)||void 0===r?void 0:r.replace(/large(?=.jpg)/i,"small")},play:function(){return e(E(n))}},n)})),Object(J.jsx)("div",{id:we.a.paginationResult,children:function(){switch(a){case"pending":return Object(J.jsx)(Ce,{});case"fulfilled":return Object(J.jsx)(re,{iconCode:"do_not_disturb_on",message:"You have reached the end"});case"rejected":return Object(J.jsx)(re,{id:we.a.rejected,severity:"error",iconCode:"error",message:"Something went wrong"});default:return}}()})]})};var Ee=function(){var e=F(),t=K(I),n=t.searchStatus,a=t.tracks,c=t.currentTrack;return Object(r.useEffect)((function(){c&&e(S(c.id))}),[c,e]),Object(J.jsxs)(J.Fragment,{children:[Object(J.jsx)(de,{}),Object(J.jsx)("main",{id:W.a.main,children:function(){switch(n){case"idle":return Object(J.jsx)(pe,{});case"pending":return Object(J.jsx)(Z,{});case"fulfilled":return 0===a.length?Object(J.jsx)(re,{iconCode:"sentiment_dissatisfied",message:"No result"}):Object(J.jsx)(Re,{});case"rejected":return Object(J.jsx)(re,{severity:"error",iconCode:"error",message:"Something went wrong"});default:return}}()}),Object(J.jsx)(Oe,{})]})};i.a.render(Object(J.jsx)(a.a.StrictMode,{children:Object(J.jsx)(s.a,{store:B,children:Object(J.jsx)(o.a,{persistor:Y,children:Object(J.jsx)(Ee,{})})})}),document.getElementById("root"))},9:function(e,t,n){e.exports={track:"Track_track__5LPLq",coverDiv:"Track_coverDiv__3AwR_",cover:"Track_cover__135ET",info:"Track_info__H-P9w",title:"Track_title__Ol6tv",artist:"Track_artist__3iizf","material-icons":"Track_material-icons__SJW1i",control:"Track_control__2RYVF"}}},[[49,1,2]]]);
//# sourceMappingURL=main.cd99d6cd.chunk.js.map