(this["webpackJsonpsoundcloud-widget"]=this["webpackJsonpsoundcloud-widget"]||[]).push([[0],{23:function(e,t,n){},25:function(e,t,n){},29:function(e,t,n){"use strict";n.r(t);var r=n(0),c=n.n(r),i=n(14),a=n.n(i),s=(n(23),n(3)),u=n.n(s),o=n(5),l=n(2),d=(n(25),n(8)),j=n.n(d),f={init:function(e){j.a.initialize({client_id:e})},getTracks:function(e,t){j.a.get("/tracks",{q:e}).then((function(e){return t(e)}))},getPlayer:function(e){return Object(o.a)(u.a.mark((function t(){return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,j.a.stream("/tracks/"+e);case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})))()}},b=n(1);function h(e){var t=Object(r.useState)(""),n=Object(l.a)(t,2),c=n[0],i=n[1],a=Object(r.createRef)();return Object(b.jsxs)("div",{id:"searchBar",children:[Object(b.jsx)("input",{autoFocus:!0,type:"text",placeholder:"Search",ref:a,value:c,onChange:function(e){return i(e.target.value)},onKeyUp:function(t){return"Enter"===t.key&&e.returnInput(t.target.value)}}),Object(b.jsx)("div",{id:"clearDiv",children:Object(b.jsx)("span",{id:"clear",className:"material-icons btn",onClick:function(){return i("")||a.current.focus()},children:"clear"})})]})}var O,p,m=n(18),A=n(10),x=n(11),v=x.a.div(O||(O=Object(A.a)(["\n  margin: auto;\n\n  @keyframes sk-stretchdelay {\n    0%, 40%, 100% { \n      transform: scaleY(0.4);\n    }  20% { \n      transform: scaleY(1.0);\n    }\n  }\n"]))),g=x.a.div(p||(p=Object(A.a)(["\n  display: inline-block;\n  background-color: ",";\n  height: ","px;\n  width: ","px;\n  margin: 0 ","px;\n\n  animation: sk-stretchdelay ","s infinite ease-in-out;\n  animation-delay: -","s;\n"])),(function(e){return e.color||"white"}),(function(e){return e.height||50}),(function(e){return e.width||6}),(function(e){return e.width/3||2}),(function(e){return.7+e.num/10}),(function(e){return 1.1-e.index/10}));function k(e){var t=e.num||5;return Object(b.jsx)(v,{children:Object(m.a)(Array(t)).map((function(n,r){return Object(b.jsx)(g,{index:r,num:t,color:e.color,height:e.height,width:e.width},r)}))})}function y(e){var t=e/1e3;return[t%3600/60,t%60].map((function(e){return"0".concat(Math.floor(e)).slice(-2)})).join(":")}function w(e){return Object(b.jsxs)("div",{id:"miniplayer",children:[Object(b.jsx)("img",{className:"cover",alt:e.title+" cover",src:e.imgURL||"data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7"}),Object(b.jsxs)("div",{id:"overlay",children:[Object(b.jsxs)("div",{className:"info",children:[Object(b.jsx)("p",{className:"title",children:e.title}),Object(b.jsx)("p",{className:"artist",children:e.artist}),Object(b.jsxs)("p",{className:"timestamp",children:[y(e.timestamp)," / ",y(e.duration)]})]}),Object(b.jsxs)("div",{className:"control",children:[Object(b.jsx)("span",{id:"previous",className:"material-icons btn",onClick:function(){return e.skip(!1)},children:"skip_previous"}),Object(b.jsx)("span",{id:"play",className:"material-icons btn",onClick:function(){return e.onPause()},children:e.pause?"play_arrow":"pause"}),Object(b.jsx)("span",{id:"next",className:"material-icons btn",onClick:function(){return e.skip(!0)},children:"skip_next"})]})]})]})}function N(e){return Object(b.jsxs)("div",{className:"track",children:[Object(b.jsx)("img",{className:"cover",alt:e.title+" cover",src:e.imgURL||"data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7"}),Object(b.jsxs)("div",{className:"info",children:[Object(b.jsx)("p",{className:"title",children:e.title}),Object(b.jsx)("p",{className:"artist",children:e.artist})]}),Object(b.jsx)("div",{className:"control",children:Object(b.jsx)("span",{id:"add",className:"material-icons btn",onClick:function(){return e.play()},children:"add_box"})})]})}var R=function(){var e;Object(r.useEffect)((function(){f.init("cd9be64eeb32d1741c17cb39e41d254d")}),[]);var t=Object(r.useState)([]),n=Object(l.a)(t,2),c=n[0],i=n[1];Object(r.useEffect)((function(){console.log(c)}),[c]);var a=Object(r.useState)("coldStart"),s=Object(l.a)(a,2),d=s[0],j=s[1],O=Object(r.useRef)(),p=Object(r.useState)(),m=Object(l.a)(p,2),A=m[0],x=m[1],v=Object(r.useState)(0),g=Object(l.a)(v,2),y=g[0],R=g[1];Object(r.useEffect)((function(){return A&&Object(o.a)(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return _(!1),e.next=3,f.getPlayer(A.id);case 3:O.current=e.sent,console.log(O),O.current.play(),O.current.on("play-start",(function(){return R(O.current.getDuration())}));case 7:case"end":return e.stop()}}),e)})))()}),[A]);var B=Object(r.useState)(0),E=Object(l.a)(B,2),I=E[0],S=E[1];Object(r.useEffect)((function(){var e=setInterval((function(){O.current&&S(O.current.currentTime())}),1e3);return function(){return clearInterval(e)}}),[]);var C=Object(r.useState)(!1),L=Object(l.a)(C,2),P=L[0],_=L[1];return Object(r.useEffect)((function(){return O.current&&(P?O.current.pause():O.current.play())}),[P]),Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)(h,{returnInput:function(e){j("fetching"),f.getTracks(e,(function(e){j("fetched"),i(e)}))}}),Object(b.jsx)("div",{id:"searchResults",children:function(){switch(d){case"fetching":return Object(b.jsx)(k,{});case"fetched":return 0===c.length?Object(b.jsx)("div",{id:"noResult",children:"No Result :("}):c.map((function(e,t){var n;return Object(b.jsx)(N,{title:e.title,artist:e.user.username,imgURL:null===(n=e.artwork_url)||void 0===n?void 0:n.replace(/large(?=.jpg)/i,"small"),play:function(){return x(c[t])}},t)}));default:return}}()}),A&&Object(b.jsx)(w,{trackId:A.id,title:A.title,artist:A.user.username,timestamp:I,duration:y,imgURL:null===(e=A.artwork_url)||void 0===e?void 0:e.replace(/large(?=.jpg)/i,"t500x500"),pause:P,onPause:function(){return _((function(e){return!e}))},skip:function(e){return x((function(t){var n=c.indexOf(t);return c[e?n+1:n-1]||t}))}})]})},B=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,30)).then((function(t){var n=t.getCLS,r=t.getFID,c=t.getFCP,i=t.getLCP,a=t.getTTFB;n(e),r(e),c(e),i(e),a(e)}))};a.a.render(Object(b.jsx)(c.a.StrictMode,{children:Object(b.jsx)(R,{})}),document.getElementById("root")),B()}},[[29,1,2]]]);
//# sourceMappingURL=main.f5864617.chunk.js.map