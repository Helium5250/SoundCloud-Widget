(this["webpackJsonpsoundcloud-widget"]=this["webpackJsonpsoundcloud-widget"]||[]).push([[0],{23:function(e,t,n){},25:function(e,t,n){},29:function(e,t,n){"use strict";n.r(t);var r=n(0),c=n.n(r),i=n(14),a=n.n(i),s=(n(23),n(3)),u=n.n(s),o=n(5),l=n(2),d=(n(25),n(8)),f=n.n(d),j={init:function(e){f.a.initialize({client_id:e})},getTracks:function(e,t){f.a.get("/tracks",{q:e}).then((function(e){return t(e)}))},getPlayer:function(e){return Object(o.a)(u.a.mark((function t(){return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,f.a.stream("/tracks/"+e);case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})))()}},b=n(1);function h(e){var t=Object(r.useState)(""),n=Object(l.a)(t,2),c=n[0],i=n[1],a=Object(r.useRef)();return Object(b.jsxs)("div",{id:"searchBar",children:[Object(b.jsx)("input",{autoFocus:!0,type:"text",placeholder:"Search",ref:a,value:c,onChange:function(e){return i(e.target.value)},onKeyUp:function(t){return"Enter"===t.key&&e.returnInput(t.target.value)}}),Object(b.jsx)("div",{id:"clearDiv",children:Object(b.jsx)("span",{id:"clear",className:"material-icons btn",onClick:function(){return i("")||a.current.focus()},children:"clear"})})]})}var m,p,x=n(18),O=n(10),v=n(11),A=v.a.div(m||(m=Object(O.a)(["\n  margin: auto;\n\n  @keyframes sk-stretchdelay {\n    0%, 40%, 100% { \n      transform: scaleY(0.4);\n    }  20% { \n      transform: scaleY(1.0);\n    }\n  }\n"]))),g=v.a.div(p||(p=Object(O.a)(["\n  display: inline-block;\n  background-color: ",";\n  height: ","px;\n  width: ","px;\n  margin: 0 ","px;\n\n  animation: sk-stretchdelay ","s infinite ease-in-out;\n  animation-delay: -","s;\n"])),(function(e){return e.color||"white"}),(function(e){return e.height||50}),(function(e){return e.width||6}),(function(e){return e.width/3||2}),(function(e){return.7+e.num/10}),(function(e){return 1.1-e.index/10}));function y(e){var t=e.num||5;return Object(b.jsx)(A,{children:Object(x.a)(Array(t)).map((function(n,r){return Object(b.jsx)(g,{index:r,num:t,color:e.color,height:e.height,width:e.width},r)}))})}var k=function(e,t,n){return Math.min(Math.max(e,t),n)},w=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e,n=!1,r={x:0,y:0},c={x:0,y:0},i=function(){return{x:window.innerWidth-t.offsetWidth,y:window.innerHeight-t.offsetHeight}},a=i();window.onresize=function(){a=i(),s()},e.addEventListener("mousedown",(function(e){n=!0,c={x:e.clientX,y:e.clientY},r.x=t.offsetLeft-c.x,r.y=t.offsetTop-c.y}),!0),document.addEventListener("mouseup",(function(){n=!1}),!0),document.addEventListener("mousemove",(function(e){e.preventDefault(),n&&s(e)}),!0);var s=function(e){c={x:k((null===e||void 0===e?void 0:e.clientX)||c.x,0,a.x-r.x),y:k((null===e||void 0===e?void 0:e.clientY)||c.y,0,a.y-r.y)};var n={x:k(c.x+r.x,0,a.x)+"px",y:k(c.y+r.y,0,a.y)+"px"};t.style.left=n.x,t.style.top=n.y}};function N(e){var t=e/1e3;return[t%3600/60,t%60].map((function(e){return"0".concat(Math.floor(e)).slice(-2)})).join(":")}function E(e){var t=Object(r.useRef)();return Object(r.useEffect)((function(){t.current&&w(t.current)}),[t]),Object(b.jsxs)("div",{id:"miniplayer",ref:t,children:[Object(b.jsx)("img",{className:"cover",alt:e.title+" cover",src:e.imgURL||"data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7"}),Object(b.jsxs)("div",{id:"overlay",children:[Object(b.jsxs)("div",{className:"info",children:[Object(b.jsx)("p",{className:"title",children:e.title}),Object(b.jsx)("p",{className:"artist",children:e.artist}),Object(b.jsxs)("p",{className:"timestamp",children:[N(e.timestamp)," / ",N(e.duration)]})]}),Object(b.jsxs)("div",{className:"control",children:[Object(b.jsx)("span",{id:"previous",className:"material-icons btn",onClick:function(){return e.skip(!1)},children:"skip_previous"}),Object(b.jsx)("span",{id:"play",className:"material-icons btn",onClick:function(){return e.onPause()},children:e.pause?"play_arrow":"pause"}),Object(b.jsx)("span",{id:"next",className:"material-icons btn",onClick:function(){return e.skip(!0)},children:"skip_next"})]})]})]})}function R(e){return Object(b.jsxs)("div",{className:"track",children:[Object(b.jsx)("img",{className:"cover",alt:e.title+" cover",src:e.imgURL||"data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7"}),Object(b.jsxs)("div",{className:"info",children:[Object(b.jsx)("p",{className:"title",children:e.title}),Object(b.jsx)("p",{className:"artist",children:e.artist})]}),Object(b.jsx)("div",{className:"control",children:Object(b.jsx)("span",{id:"add",className:"material-icons btn",onClick:function(){return e.play()},children:"add_box"})})]})}var L=function(){var e,t=Object(r.useRef)();Object(r.useEffect)((function(){j.init("cd9be64eeb32d1741c17cb39e41d254d")}),[]);var n=Object(r.useState)("coldStart"),c=Object(l.a)(n,2),i=c[0],a=c[1],s=Object(r.useState)([]),d=Object(l.a)(s,2),f=d[0],m=d[1],p=Object(r.useState)(),x=Object(l.a)(p,2),O=x[0],v=x[1],A=Object(r.useState)(0),g=Object(l.a)(A,2),k=g[0],w=g[1];Object(r.useEffect)((function(){return O&&Object(o.a)(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return _(!1),e.next=3,j.getPlayer(O.id);case 3:t.current=e.sent,t.current.play(),t.current.on("play-start",(function(){return w(t.current.getDuration())}));case 6:case"end":return e.stop()}}),e)})))()}),[O]);var N=Object(r.useState)(0),L=Object(l.a)(N,2),B=L[0],I=L[1];Object(r.useEffect)((function(){var e=setInterval((function(){t.current&&I(t.current.currentTime())}),1e3);return function(){return clearInterval(e)}}),[]);var S=Object(r.useState)(!1),C=Object(l.a)(S,2),P=C[0],_=C[1];return Object(r.useEffect)((function(){return t.current&&(P?t.current.pause():t.current.play())}),[P]),Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)(h,{returnInput:function(e){a("fetching"),j.getTracks(e,(function(e){a("fetched"),m(e)}))}}),Object(b.jsx)("div",{id:"searchResults",children:function(){switch(i){case"fetching":return Object(b.jsx)(y,{});case"fetched":return 0===f.length?Object(b.jsx)("div",{id:"noResult",children:"No Result :("}):f.map((function(e,t){var n;return Object(b.jsx)(R,{title:e.title,artist:e.user.username,imgURL:null===(n=e.artwork_url)||void 0===n?void 0:n.replace(/large(?=.jpg)/i,"small"),play:function(){return v(f[t])}},t)}));default:return}}()}),O&&Object(b.jsx)(E,{trackId:O.id,title:O.title,artist:O.user.username,timestamp:B,duration:k,imgURL:null===(e=O.artwork_url)||void 0===e?void 0:e.replace(/large(?=.jpg)/i,"t500x500"),pause:P,onPause:function(){return _((function(e){return!e}))},skip:function(e){return v((function(t){var n=f.indexOf(t);return f[e?n+1:n-1]||t}))}})]})},B=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,30)).then((function(t){var n=t.getCLS,r=t.getFID,c=t.getFCP,i=t.getLCP,a=t.getTTFB;n(e),r(e),c(e),i(e),a(e)}))};a.a.render(Object(b.jsx)(c.a.StrictMode,{children:Object(b.jsx)(L,{})}),document.getElementById("root")),B()}},[[29,1,2]]]);
//# sourceMappingURL=main.b38c86fd.chunk.js.map