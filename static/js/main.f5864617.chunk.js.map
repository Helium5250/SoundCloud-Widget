{"version":3,"sources":["SCAPI.js","components/searchbar.js","components/spinner.js","components/miniplayer.js","components/track.js","App.js","reportWebVitals.js","index.js"],"names":["SoundCloudAPI","init","ID","SC","initialize","client_id","getTracks","input","func","get","q","then","data","getPlayer","trackId","stream","Searchbar","props","useState","setInput","searchbar","createRef","id","autoFocus","type","placeholder","ref","value","onChange","e","target","onKeyUp","key","returnInput","className","onClick","current","focus","SpinnerDiv","styled","div","Rect","color","height","width","num","index","Spinner","numOfRect","Array","map","_","displayTime","milliseconds","seconds","val","Math","floor","slice","join","MiniPlayer","alt","title","src","imgURL","artist","timestamp","duration","skip","onPause","pause","Card","play","App","useEffect","tracks","setTracks","console","log","status","setStatus","player","useRef","currentTrack","setCurrentTrack","setDuration","a","setPause","on","getDuration","setTimestamp","timestampTimer","setInterval","currentTime","clearInterval","length","track","user","username","artwork_url","replace","renderResult","next","currentTrackIndex","indexOf","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.f5864617.chunk.js","sourcesContent":["import SC from 'soundcloud';\n\nconst SoundCloudAPI = {\n  init(ID) {\n    SC.initialize({\n      client_id: ID\n    });\n  },\n\n  getTracks(input, func) {\n    SC.get('/tracks', {\n      q: input\n    }).then(\n      data => func(data)\n    );\n  },\n\n  async getPlayer(trackId) {\n    return await SC.stream('/tracks/' + trackId);\n  },\n};\n\nexport default SoundCloudAPI;","import React, { useState, createRef } from 'react';\n\nexport default function Searchbar(props) {\n  const [input, setInput] = useState('');\n  const searchbar = createRef();\n\n  return (\n    <div id='searchBar'>\n      <input\n        autoFocus\n        type='text'\n        placeholder='Search'\n        ref={searchbar}\n        value={input}\n        onChange={\n          e => setInput(e.target.value)\n        }\n        onKeyUp={\n          e => e.key === 'Enter' && props.returnInput(e.target.value)\n        }\n      />\n      <div id='clearDiv'>\n        <span\n          id='clear'\n          className='material-icons btn'\n          onClick={\n            () => setInput('') || searchbar.current.focus()\n          }\n        >\n          clear\n        </span>\n      </div>\n    </div>\n  );\n}","import React from 'react';\nimport styled from 'styled-components';\n\nconst SpinnerDiv = styled.div`\n  margin: auto;\n\n  @keyframes sk-stretchdelay {\n    0%, 40%, 100% { \n      transform: scaleY(0.4);\n    }  20% { \n      transform: scaleY(1.0);\n    }\n  }\n`;\n\nconst Rect = styled.div`\n  display: inline-block;\n  background-color: ${props => props.color || 'white'};\n  height: ${props => props.height || 50}px;\n  width: ${props => props.width || 6}px;\n  margin: 0 ${props => props.width / 3 || 2}px;\n\n  animation: sk-stretchdelay ${props => 0.7 + props.num / 10}s infinite ease-in-out;\n  animation-delay: -${props => 1.1 - props.index / 10}s;\n`;\n\nexport default function Spinner(props) {\n  const numOfRect = props.num || 5;\n\n  return (\n    <SpinnerDiv>\n      {[...Array(numOfRect)].map((_, index) => (\n        <Rect\n          key={index}\n          index={index}\n          num={numOfRect}\n          color={props.color}\n          height={props.height}\n          width={props.width}\n        />\n      ))}\n    </SpinnerDiv>\n  );\n}\n","const imgPlaceholder = 'data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7';\n\nfunction displayTime(milliseconds) {\n  const seconds = milliseconds / 1000;\n  const format = val => `0${Math.floor(val)}`.slice(-2);\n  return [seconds % 3600 / 60, seconds % 60].map(format).join(':');\n}\n\nexport default function MiniPlayer(props) {\n  return (\n    <div id='miniplayer'>\n      <img\n        className='cover'\n        alt={props.title + ' cover'}\n        src={props.imgURL || imgPlaceholder}\n      />\n      <div id='overlay'>\n        <div className='info'>\n          <p className='title'>\n            {props.title}\n          </p>\n          <p className='artist'>\n            {props.artist}\n          </p>\n          <p className='timestamp'>\n            {displayTime(props.timestamp)} / {displayTime(props.duration)}\n          </p>\n        </div>\n        <div className='control'>\n          <span\n            id='previous'\n            className='material-icons btn'\n            onClick={() => props.skip(false)}\n          >\n            skip_previous\n            </span>\n          <span\n            id='play'\n            className='material-icons btn'\n            onClick={() => props.onPause()}\n          >\n            {props.pause ? 'play_arrow' : 'pause'}\n          </span>\n          <span\n            id='next'\n            className='material-icons btn'\n            onClick={() => props.skip(true)}\n          >\n            skip_next\n            </span>\n        </div>\n      </div>\n    </div>\n  );\n}\n","const imgPlaceholder = 'data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7';\n\nexport default function Card(props) {\n  return (\n    <div\n      className='track'\n    >\n      <img\n        className='cover'\n        alt={props.title + ' cover'}\n        src={props.imgURL || imgPlaceholder}\n      />\n      <div className='info'>\n        <p className='title'>\n          {props.title}\n        </p>\n        <p className='artist'>\n          {props.artist}\n        </p>\n      </div>\n      <div className='control'>\n        <span\n          id='add'\n          className='material-icons btn'\n          onClick={() => props.play()}\n        >\n          add_box\n          </span>\n      </div>\n    </div>\n  );\n}\n","import React, { useState, useEffect, useRef } from 'react';\nimport './App.css';\n\nimport SoundCloudAPI from './SCAPI';\nimport Searchbar from './components/searchbar';\nimport Spinner from './components/spinner';\nimport MiniPlayer from './components/miniplayer';\nimport Track from './components/track';\n\nfunction App() {\n  const API_ID = 'cd9be64eeb32d1741c17cb39e41d254d';\n\n  useEffect(() => {\n    SoundCloudAPI.init(API_ID);\n  }, []);\n\n  const [tracks, setTracks] = useState([]);\n  useEffect(() => {\n    console.log(tracks);\n  }, [tracks]);\n\n  const [status, setStatus] = useState('coldStart');\n  const fetchTracks = (input) => {\n    setStatus('fetching');\n    SoundCloudAPI.getTracks(input, data => {\n      setStatus('fetched');\n      setTracks(data);\n    });\n  };\n\n  const player = useRef();\n  const [currentTrack, setCurrentTrack] = useState();\n\n  const [duration, setDuration] = useState(0);\n  useEffect(() => currentTrack && (\n    async () => {\n      setPause(false);\n      player.current = await SoundCloudAPI.getPlayer(currentTrack.id);\n      console.log(player);\n      player.current.play();\n      player.current.on('play-start',\n        () => setDuration(player.current.getDuration())\n      );\n    }\n  )(), [currentTrack]);\n\n  const [timestamp, setTimestamp] = useState(0);\n  useEffect(() => {\n    const timestampTimer = setInterval(() => {\n      player.current && setTimestamp(player.current.currentTime());\n    }, 1000);\n    return () => clearInterval(timestampTimer);\n  }, []);\n\n  const [pause, setPause] = useState(false);\n  useEffect(() => player.current && (\n    pause ? player.current.pause() : player.current.play()\n  ), [pause]);\n\n  const renderResult = () => {\n    switch (status) {\n      case 'fetching':\n        return <Spinner />;\n      case 'fetched':\n        return tracks.length === 0\n          ? <div id='noResult'>No Result :(</div>\n          : tracks.map((track, index) => (\n            <Track\n              key={index}\n              title={track.title}\n              artist={track.user.username}\n              imgURL={track.artwork_url?.replace(/large(?=.jpg)/i, 'small')}\n              play={() => setCurrentTrack(tracks[index])}\n            ></Track>\n          ));\n      default:\n        return;\n    }\n  };\n\n  return <>\n    <Searchbar returnInput={fetchTracks} />\n    <div id='searchResults'>\n      {renderResult()}\n    </div>\n    {currentTrack && (\n      <MiniPlayer\n        trackId={currentTrack.id}\n        title={currentTrack.title}\n        artist={currentTrack.user.username}\n        timestamp={timestamp}\n        duration={duration}\n        imgURL={currentTrack.artwork_url?.replace(/large(?=.jpg)/i, 't500x500')}\n        pause={pause}\n        onPause={() => setPause(pause => !pause)}\n        skip={next => setCurrentTrack(currentTrack => {\n          const currentTrackIndex = tracks.indexOf(currentTrack);\n          const nextTrackIndex = next ? currentTrackIndex + 1 : currentTrackIndex - 1;\n          return tracks[nextTrackIndex] || currentTrack;\n        })}\n      />\n    )}\n  </>;\n};\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\nreportWebVitals();\n"],"sourceRoot":""}