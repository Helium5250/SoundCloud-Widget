{"version":3,"sources":["utils/SCAPI.js","components/searchbar.js","components/spinner.js","utils/drag.js","components/miniplayer.js","components/track.js","App.js","reportWebVitals.js","index.js"],"names":["SoundCloudAPI","init","ID","SC","initialize","client_id","getTracks","input","func","get","q","then","data","getPlayer","trackId","stream","Searchbar","props","useState","setInput","searchbar","useRef","id","autoFocus","type","placeholder","ref","value","onChange","e","target","onKeyUp","key","returnInput","className","onClick","current","focus","SpinnerDiv","styled","div","Rect","color","height","width","num","index","Spinner","numOfRect","Array","map","_","clamp","min","max","Math","addDrag","targetElement","movingElement","dragable","offset","x","y","pos","getDist2Edge","window","innerWidth","offsetWidth","innerHeight","offsetHeight","edge","onresize","setPos","addEventListener","clientX","clientY","offsetLeft","offsetTop","document","preventDefault","coordinate","style","left","top","displayTime","milliseconds","seconds","val","floor","slice","join","MiniPlayer","miniplayer","useEffect","alt","title","src","imgURL","artist","timestamp","duration","skip","onPause","pause","Card","play","App","player","status","setStatus","tracks","setTracks","currentTrack","setCurrentTrack","setDuration","a","setPause","on","getDuration","setTimestamp","timestampTimer","setInterval","currentTime","clearInterval","length","track","user","username","artwork_url","replace","renderResult","next","currentTrackIndex","indexOf","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.b38c86fd.chunk.js","sourcesContent":["import SC from 'soundcloud';\n\nconst SoundCloudAPI = {\n  init(ID) {\n    SC.initialize({\n      client_id: ID\n    });\n  },\n\n  getTracks(input, func) {\n    SC.get('/tracks', {\n      q: input\n    }).then(\n      data => func(data)\n    );\n  },\n\n  async getPlayer(trackId) {\n    return await SC.stream('/tracks/' + trackId);\n  },\n};\n\nexport default SoundCloudAPI;","import React, { useState, useRef } from 'react';\n\nexport default function Searchbar(props) {\n  const [input, setInput] = useState('');\n  const searchbar = useRef();\n\n  return (\n    <div id='searchBar'>\n      <input\n        autoFocus\n        type='text'\n        placeholder='Search'\n        ref={searchbar}\n        value={input}\n        onChange={\n          e => setInput(e.target.value)\n        }\n        onKeyUp={\n          e => e.key === 'Enter' && props.returnInput(e.target.value)\n        }\n      />\n      <div id='clearDiv'>\n        <span\n          id='clear'\n          className='material-icons btn'\n          onClick={\n            () => setInput('') || searchbar.current.focus()\n          }\n        >\n          clear\n        </span>\n      </div>\n    </div>\n  );\n}","import React from 'react';\nimport styled from 'styled-components';\n\nconst SpinnerDiv = styled.div`\n  margin: auto;\n\n  @keyframes sk-stretchdelay {\n    0%, 40%, 100% { \n      transform: scaleY(0.4);\n    }  20% { \n      transform: scaleY(1.0);\n    }\n  }\n`;\n\nconst Rect = styled.div`\n  display: inline-block;\n  background-color: ${props => props.color || 'white'};\n  height: ${props => props.height || 50}px;\n  width: ${props => props.width || 6}px;\n  margin: 0 ${props => props.width / 3 || 2}px;\n\n  animation: sk-stretchdelay ${props => 0.7 + props.num / 10}s infinite ease-in-out;\n  animation-delay: -${props => 1.1 - props.index / 10}s;\n`;\n\nexport default function Spinner(props) {\n  const numOfRect = props.num || 5;\n\n  return (\n    <SpinnerDiv>\n      {[...Array(numOfRect)].map((_, index) => (\n        <Rect\n          key={index}\n          index={index}\n          num={numOfRect}\n          color={props.color}\n          height={props.height}\n          width={props.width}\n        />\n      ))}\n    </SpinnerDiv>\n  );\n}\n","const clamp = (num, min, max) => Math.min(Math.max(num, min), max);\n\n\nconst addDrag = (targetElement, movingElement = targetElement) => {\n  let dragable = false;\n  let offset = { x: 0, y: 0 };\n  let pos = { x: 0, y: 0 };\n\n  const getDist2Edge = () => ({\n    x: window.innerWidth - movingElement.offsetWidth,\n    y: window.innerHeight - movingElement.offsetHeight,\n  });\n\n  let edge = getDist2Edge();\n  window.onresize = () => {\n    edge = getDist2Edge();\n    setPos();\n  };\n\n  targetElement.addEventListener('mousedown', (e) => {\n    dragable = true;\n\n    pos = { x: e.clientX, y: e.clientY };\n    offset.x = movingElement.offsetLeft - pos.x;\n    offset.y = movingElement.offsetTop - pos.y;\n  }, true);\n\n  document.addEventListener('mouseup', () => {\n    dragable = false;\n  }, true);\n\n  document.addEventListener('mousemove', (e) => {\n    e.preventDefault();\n    if (dragable) {\n      setPos(e);\n    }\n  }, true);\n\n  const setPos = (e) => {\n    pos = {\n      x: clamp(e?.clientX || pos.x, 0, edge.x - offset.x),\n      y: clamp(e?.clientY || pos.y, 0, edge.y - offset.y)\n    };\n\n    const coordinate = {\n      x: clamp(pos.x + offset.x, 0, edge.x) + 'px',\n      y: clamp(pos.y + offset.y, 0, edge.y) + 'px'\n    };\n\n    movingElement.style.left = coordinate.x;\n    movingElement.style.top = coordinate.y;\n  };\n};\n\nexport default addDrag;","import { useEffect, useRef } from \"react\";\nimport addDrag from '../utils/drag';\n\nconst imgPlaceholder = 'data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7';\n\nfunction displayTime(milliseconds) {\n  const seconds = milliseconds / 1000;\n  const format = val => `0${Math.floor(val)}`.slice(-2);\n  return [seconds % 3600 / 60, seconds % 60].map(format).join(':');\n}\n\nexport default function MiniPlayer(props) {\n  const miniplayer = useRef();\n\n  useEffect(() => {\n    miniplayer.current && addDrag(miniplayer.current);\n  }, [miniplayer]);\n\n  return (\n    <div id='miniplayer' ref={miniplayer}>\n      <img\n        className='cover'\n        alt={props.title + ' cover'}\n        src={props.imgURL || imgPlaceholder}\n      />\n      <div id='overlay'>\n        <div className='info'>\n          <p className='title'>\n            {props.title}\n          </p>\n          <p className='artist'>\n            {props.artist}\n          </p>\n          <p className='timestamp'>\n            {displayTime(props.timestamp)} / {displayTime(props.duration)}\n          </p>\n        </div>\n        <div className='control'>\n          <span\n            id='previous'\n            className='material-icons btn'\n            onClick={() => props.skip(false)}\n          >\n            skip_previous\n          </span>\n          <span\n            id='play'\n            className='material-icons btn'\n            onClick={() => props.onPause()}\n          >\n            {props.pause ? 'play_arrow' : 'pause'}\n          </span>\n          <span\n            id='next'\n            className='material-icons btn'\n            onClick={() => props.skip(true)}\n          >\n            skip_next\n          </span>\n        </div>\n      </div>\n    </div>\n  );\n}\n","const imgPlaceholder = 'data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7';\n\nexport default function Card(props) {\n  return (\n    <div\n      className='track'\n    >\n      <img\n        className='cover'\n        alt={props.title + ' cover'}\n        src={props.imgURL || imgPlaceholder}\n      />\n      <div className='info'>\n        <p className='title'>\n          {props.title}\n        </p>\n        <p className='artist'>\n          {props.artist}\n        </p>\n      </div>\n      <div className='control'>\n        <span\n          id='add'\n          className='material-icons btn'\n          onClick={() => props.play()}\n        >\n          add_box\n          </span>\n      </div>\n    </div>\n  );\n}\n","import React, { useState, useEffect, useRef } from 'react';\nimport './App.css';\n\nimport SoundCloudAPI from './utils/SCAPI';\nimport Searchbar from './components/searchbar';\nimport Spinner from './components/spinner';\nimport MiniPlayer from './components/miniplayer';\nimport Track from './components/track';\n\nfunction App() {\n  const API_ID = 'cd9be64eeb32d1741c17cb39e41d254d';\n  const player = useRef();\n\n  useEffect(() => {\n    SoundCloudAPI.init(API_ID);\n  }, []);\n\n  const [status, setStatus] = useState('coldStart');\n  const [tracks, setTracks] = useState([]);\n\n  const fetchTracks = (input) => {\n    setStatus('fetching');\n    SoundCloudAPI.getTracks(input, data => {\n      setStatus('fetched');\n      setTracks(data);\n    });\n  };\n\n  const [currentTrack, setCurrentTrack] = useState();\n  const [duration, setDuration] = useState(0);\n\n  useEffect(() => currentTrack && (\n    async () => {\n      setPause(false);\n      player.current = await SoundCloudAPI.getPlayer(currentTrack.id);\n      player.current.play();\n      player.current.on('play-start',\n        () => setDuration(player.current.getDuration())\n      );\n    }\n  )(), [currentTrack]);\n\n  const [timestamp, setTimestamp] = useState(0);\n  useEffect(() => {\n    const timestampTimer = setInterval(() => {\n      player.current && setTimestamp(player.current.currentTime());\n    }, 1000);\n    return () => clearInterval(timestampTimer);\n  }, []);\n\n  const [pause, setPause] = useState(false);\n  useEffect(() => player.current && (\n    pause ? player.current.pause() : player.current.play()\n  ), [pause]);\n\n  const renderResult = () => {\n    switch (status) {\n      case 'fetching':\n        return <Spinner />;\n      case 'fetched':\n        return tracks.length === 0\n          ? <div id='noResult'>No Result :(</div>\n          : tracks.map((track, index) => (\n            <Track\n              key={index}\n              title={track.title}\n              artist={track.user.username}\n              imgURL={track.artwork_url?.replace(/large(?=.jpg)/i, 'small')}\n              play={() => setCurrentTrack(tracks[index])}\n            ></Track>\n          ));\n      default:\n        return;\n    }\n  };\n\n  return <>\n    <Searchbar returnInput={fetchTracks} />\n    <div id='searchResults'>\n      {renderResult()}\n    </div>\n    {currentTrack && (\n      <MiniPlayer\n        trackId={currentTrack.id}\n        title={currentTrack.title}\n        artist={currentTrack.user.username}\n        timestamp={timestamp}\n        duration={duration}\n        imgURL={currentTrack.artwork_url?.replace(/large(?=.jpg)/i, 't500x500')}\n\n        pause={pause}\n        onPause={() => setPause(pause => !pause)}\n        skip={next => setCurrentTrack(currentTrack => {\n          const currentTrackIndex = tracks.indexOf(currentTrack);\n          const nextTrackIndex = next ? currentTrackIndex + 1 : currentTrackIndex - 1;\n          return tracks[nextTrackIndex] || currentTrack;\n        })}\n      />\n    )}\n  </>;\n};\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\nreportWebVitals();\n"],"sourceRoot":""}