{"version":3,"sources":["views/Miniplayer.module.scss","app/playerSlice.ts","components/Button.tsx","app/store.ts","utils/functions.ts","app/hooks.ts","hooks/useEventListener.ts","views/Header.module.scss","views/Searchbar.module.scss","components/Button.module.scss","components/ErrorFallback.module.scss","components/MessageDisplay.module.scss","app/playlistSlice.ts","utils/constants.ts","app/trackSlice.ts","components/MessageDisplay.tsx","App.module.scss","views/Searchbar.tsx","views/Header.tsx","components/Draggie.tsx","views/Miniplayer.tsx","components/ErrorFallback.tsx","App.tsx","index.tsx"],"names":["module","exports","playTrack","createAsyncThunk","_","getState","errorHandler","a","player","track","currentTrack","tracks","currentTrackIndex","Soundcloud","stream","id","pauseTrack","isPlaying","pause","play","seekTrack","second","currentTime","seekTime","clamp","getDuration","seek","skipTrack","direction","length","playerSlice","createSlice","name","initialState","reducers","changeTrack","state","action","payload","extraReducers","builder","addCase","fulfilled","actions","selectSelf","selectPlayer","createDraftSafeSelector","selectCurrentTrack","Button","children","type","styledAs","className","props","cn","styles","btn","default","initialize","client_id","process","persistConfig","key","storage","whitelist","rootReducer","combineReducers","playerReducer","trackReducer","playlist","playlistReducer","persistedReducer","persistReducer","store","configureStore","reducer","middleware","getDefaultMiddleware","serializableCheck","ignoredActions","FLUSH","REHYDRATE","PAUSE","PERSIST","PURGE","REGISTER","ignoredPaths","persistor","persistStore","func","err","console","error","num","min","max","Math","getRandNumBetween","floor","random","millisecond2second","milliseconds","displayTime","seconds","map","val","slice","join","useAppDispatch","useDispatch","useAppSelector","useSelector","useEventListener","element","eventType","listener","options","savedListener","useRef","useEffect","current","addEventListener","wrappedListener","e","removeEventListener","playlistSlice","playlists","createPlaylist","newPlaylist","push","addToPlaylist","forEach","playlist_","some","track_","selectPlaylists","selectPlaylist","playlistName","filter","imgPlaceholder","paginatedSearch","input","limit","offset","get","q","linked_partitioning","collection","next_href","nextQuery","searchForTracks","queryNextPage","isThereMoreTracks","soundcloudSlice","searchStatus","paginationStatus","pending","rejected","concat","selectTrack","MessageDisplay","iconCode","message","severity","messageDisplay","Searchbar","history","useHistory","useState","setInput","searchbar","submitHandler","document","body","preventDefault","focus","autoFocus","placeholder","ref","value","onChange","target","onKeyUp","searchbarControl","onClick","focusTip","HeaderNavLink","to","text","exact","activeClassName","activeLink","Header","header","nav","Draggie","controlledMode","draggie","isDraggable","x","y","pos","edge","getDist2Edge","useCallback","clientWidth","offsetWidth","clientHeight","offsetHeight","setPos","clientX","clientY","style","left","top","offsetLeft","offsetTop","window","position","onMouseDown","classList","contains","MiniPlayer","dispatch","timestamp","setTimestamp","duration","setDuration","timestampTimer","setInterval","newTime","clearInterval","miniplayer","cover","alt","title","src","artwork_url","replace","overlay","expand","info","artist","user","username","control","rewind","previous","next","forward","trackProgress","progressBar","getBoundingClientRect","distanceToSeek","ErrorFallback","onError","FallbackComponent","resetErrorBoundary","errorDisplay","errorInner","errorMsg","SuggestionPage","lazy","SearchPage","LibraryPage","PlaylistPage","App","main","fallback","path","ReactDOM","render","StrictMode","basename","getElementById"],"mappings":"oFACAA,EAAOC,QAAU,CAAC,WAAa,+BAA+B,MAAQ,0BAA0B,cAAgB,kCAAkC,QAAU,4BAA4B,QAAU,4BAA4B,OAAS,2BAA2B,KAAO,yBAAyB,MAAQ,0BAA0B,OAAS,2BAA2B,UAAY,8BAA8B,QAAU,4BAA4B,KAAO,2B,+UCelbC,EAAYC,YACvB,oBACA,SAACC,EAAD,OAAMC,EAAN,EAAMA,SAAN,OAAqBC,YAAY,sBAAC,kCAAAC,EAAA,+DACNF,IAAlBG,EADwB,EACxBA,OAAQC,EADgB,EAChBA,MACVC,EAAeD,EAAME,OAAOH,EAAOI,mBAFT,SAInBC,IAAWC,OAAO,WAAaJ,EAAaK,IAJzB,uFAQvBC,EAAab,YACxB,qBACA,SAACC,EAAD,OAAMC,EAAN,EAAMA,SAAN,OAAqBC,YAAY,sBAAC,4BAAAC,EAAA,yDACxBC,EAAYH,IAAyBG,OAArCA,OADwB,qDAI/BA,EAAOS,YAJwB,gCAKtBT,EAAOU,QALe,+CAMtBV,EAAOW,OANe,gDAUvBC,EAAYjB,YACvB,mBADuC,uCAEvC,WAAOkB,EAAP,kBAAAd,EAAA,6DAAyBF,EAAzB,EAAyBA,SAAzB,kBAAwCC,YAAY,sBAAC,gCAAAC,EAAA,yDAC3CC,EAAYH,IAAyBG,OAArCA,OAD2C,wDAI7Cc,EAAcd,EAAOc,cACrBC,EAAWC,YAAMF,EAAuB,IAATD,EAAe,EAAGb,EAAOiB,eALX,gBAM7CjB,QAN6C,IAM7CA,OAN6C,EAM7CA,EAAQkB,KAAKH,GANgC,6CAArD,2CAFuC,yDAY5BI,EAAYxB,YACvB,oBACA,SAACyB,EAAD,OAA+BvB,EAA/B,EAA+BA,SAA/B,OAA8CC,YAAY,sBAAC,gCAAAC,EAAA,2DAC/BF,IAAlBG,EADiD,EACjDA,OAAQC,EADyC,EACzCA,MACXD,EAAOA,OAF6C,yDAIxDA,EAAOA,OAAOS,aAJ0C,qCAK7CT,EAAOA,OAAOU,QAL+B,UAOvC,SAAdU,EAPqD,0CAQ/CpB,EAAOI,mBAAqB,EAChCH,EAAME,OAAOkB,OAAS,EACtBrB,EAAOI,kBAAoB,GAVwB,iCAc/CJ,EAAOI,mBAAqBH,EAAME,OAAOkB,OAAS,EACtD,EACArB,EAAOI,kBAAoB,GAhBwB,gDAqBvDkB,EAAcC,YAAY,CAC9BC,KAAM,SACNC,aAjEE,CACFzB,OAAQ,KACRI,mBAAoB,GAgEpBsB,SAAU,CACRC,YAAa,SAACC,EAAOC,GACnBD,EAAMxB,kBAAoByB,EAAOC,UAGrCC,cAAe,SAACC,GACdA,EAAQC,QACNvC,EAAUwC,WACV,SAACN,EAAOC,GACND,EAAM5B,OAAS6B,EAAOC,WAExBG,QACAzB,EAAW0B,WACX,eACAD,QACArB,EAAUsB,WACV,eACAD,QACAd,EAAUe,WACV,SAACN,EAAOC,GACND,EAAMxB,kBAAoByB,EAAOC,cAM1BH,EAAgBL,EAAYa,QAA5BR,YACAL,MAAf,QAGA,IAAMc,EAAa,SAACR,GAAD,OAAsBA,EAAM5B,QAGlCqC,EAAeC,YAC1BF,GACA,SAACpC,GAAD,OAAYA,KAGDuC,EAAqBD,YAChCF,GARkB,SAACR,GAAD,OAAsBA,EAAM3B,SAU9C,SAACD,EAAQC,GAAT,OAAmBA,EAAME,OAAOH,EAAOI,uB,2FCvF1BoC,IA1Bf,YAUG,IATDC,EASA,EATAA,SASA,IARAC,YAQA,MARO,SAQP,EAPAC,EAOA,EAPAA,SACAC,EAMA,EANAA,UACGC,EAKH,0DACA,OACE,gDACED,UAAWE,IACTC,IAAOC,IACPL,EAAWI,IAAOJ,GAAYI,IAAOE,QACrCL,GAEFF,KAAMA,GACFG,GAPN,aASGJ,O,gCCzBP,uLAcApC,EAAW6C,WAAW,CACpBC,UAAWC,qCAIb,IAAMC,EAAgB,CACpBC,IAAK,OACLC,YACAC,UAAW,CAAC,aAGRC,EAAcC,YAAgB,CAClC1D,OAAQ2D,IACR1D,MAAO2D,IACPC,SAAUC,MAGNC,EAAmBC,YAAeX,EAAeI,GAG1CQ,EAAQC,YAAe,CAClCC,QAASJ,EACTK,WAAY,SAACC,GAAD,OAA0BA,EAAqB,CACzDC,kBAAmB,CACjBC,eAAgB,CACdC,IAAOC,IAAWC,IAAOC,IAASC,IAAOC,IACzC,8BAEFC,aAAc,CAAC,gBAAiB,sBAKzBC,EAAYC,YAAaf,GAezBnE,EAAe,SAACmF,GAC3B,IACE,OAAOA,IACP,MAAOC,GAEP,OADAC,QAAQC,MAAM,qBAAsBF,GAC7BA,K,6BCnEX,wIAAO,IAAMlE,EAAQ,SACnBqE,EACAC,EACAC,GAHmB,OAKnBC,KAAKF,IAAIE,KAAKD,IAAIF,EAAKC,GAAMC,IAElBE,EAAoB,SAACH,EAAaC,GAC7C,OAAOC,KAAKE,MAAMF,KAAKG,UAAYJ,EAAMD,GAAOA,IAGrCM,EAAqB,SAACC,GACjC,OAAOL,KAAKE,MAAMG,EAAe,MAGtBC,EAAc,SAACC,GAC1B,MAAO,CAACA,EAAU,KAAO,GAAIA,EAAU,IACpCC,KAAI,SAACC,GAAD,MACH,WAAIT,KAAKE,MAAMO,IAAOC,OAAO,MAE9BC,KAAK,O,+BCpBV,gFAIaC,EAAiB,kBAAMC,eACvBC,EAAkDC,K,gCCL/D,WAkCeC,IAhCU,SAIrBC,EACAC,EACAC,EAOAC,GAIF,IAAMC,EAAgBC,iBAAOH,GAC7BI,qBAAU,WACRF,EAAcG,QAAUL,IACvB,CAACA,IAEJI,qBAAU,WACR,GAAKN,GAAYA,EAAQQ,iBAAzB,CAEA,IAAMC,EAAgD,SAACC,GAAD,OAAON,EAAcG,QAAQG,IAGnF,OAFAV,EAAQQ,iBAAiBP,EAAWQ,EAAkCN,GAE/D,kBAAMH,EAAQW,oBAAoBV,EAAWQ,EAAkCN,OACrF,CAACH,EAASC,EAAWE,M,uBC9B1BpH,EAAOC,QAAU,CAAC,OAAS,uBAAuB,IAAM,oBAAoB,WAAa,6B,gBCAzFD,EAAOC,QAAU,CAAC,UAAY,6BAA6B,iBAAmB,oCAAoC,SAAW,8B,gBCA7HD,EAAOC,QAAU,CAAC,IAAM,oBAAoB,SAAW,2B,gBCAvDD,EAAOC,QAAU,CAAC,aAAe,oCAAoC,WAAa,kCAAkC,SAAW,kC,qBCA/HD,EAAOC,QAAU,CAAC,eAAiB,uCAAuC,QAAU,gCAAgC,MAAQ,gC,8BCD5H,mJAiBM4H,EAAgB9F,YAAY,CAChCC,KAAM,WACNC,aANE,CACF6F,UAAW,IAMX5F,SAAU,CACR6F,eAAgB,SAAC3F,EAAOC,GACtB,IAAM2F,EAAc,CAClBhG,KAAMK,EAAOC,QACb3B,OAAQ,IAEVyB,EAAM0F,UAAUG,KAAKD,IAEvBE,cAAe,SACb9F,EACAC,GAKA,MAA4BA,EAAOC,QAA3B+B,EAAR,EAAQA,SAAU5D,EAAlB,EAAkBA,MAClB2B,EAAM0F,UAAUK,SAAQ,SAACC,GACnBA,EAAUpG,OAASqC,EAASrC,QACLoG,EAAUzH,OAAO0H,MAAK,SAACC,GAAD,OAC5CA,EAAOvH,KAAON,EAAMM,OAGAqH,EAAUzH,OAAOsH,KAAKxH,SAKrD8B,cAAe,SAACC,OAOX,EAEHqF,EAAclF,QADhBoF,EADK,EACLA,eAAgBG,EADX,EACWA,cAEHL,MAAf,QAGA,IAAMjF,EAAa,SAACR,GAAD,OAAsBA,EAAMiC,UAElCkE,EAAkBzF,YAC7BF,GACA,SAACyB,GAAD,OAAcA,EAASyD,aAGZU,EAAiB,SAACC,GAC7B,OAAO3F,YACLF,GACA,SAACyB,GAAD,OAAcA,EAASyD,UAAUY,QAAO,SAACrE,GAAD,OACtCA,EAASrC,OAASyG,KAClB,Q,8BCxEN,kCAAO,IAAME,EAAiB,kF,+LC4BxBC,EAAe,uCAAG,WACtBC,EACAC,EACAC,GAHsB,mBAAAxI,EAAA,sEAKkBM,IAAWmI,IAAI,UAAW,CAChEC,EAAGJ,EACHC,QACAC,SACAG,oBAAqB,IATD,uBAKdC,EALc,EAKdA,WAAYC,EALE,EAKFA,UALE,kBAYf,CACLzI,OAAQwI,EACRE,UAAWD,IAdS,2CAAH,0DAkBRE,EAAkBnJ,YAC7B,0BACA,SAAC0I,GAAD,OAAmBvI,YAAY,sBAAC,8BAAAC,EAAA,sEACLqI,EAAgBC,EA3CpB,GA2C6C,GADpC,uBACtBlI,EADsB,EACtBA,OADsB,kBAGvB,CACLA,SACAkI,QACAC,MAhDmB,GAiDnBC,OAjDmB,KA0CS,+CAYrBQ,EAAgBpJ,YAC3B,wBACA,SAACC,EAAD,OAAMC,EAAN,EAAMA,SAAN,OAAqBC,YAAY,sBAAC,wCAAAC,EAAA,+DACEF,IAAyBI,MAAnDoI,EADwB,EACxBA,MAAOC,EADiB,EACjBA,MAAOC,EADU,EACVA,OADU,SAEIH,EAAgBC,EAAOC,EAAOC,GAFlC,uBAExBpI,EAFwB,EAExBA,OAAQ0I,EAFgB,EAEhBA,UAFgB,kBAIzB,CACL1I,SACAoI,OAAQA,EAASD,EACjBU,oBAAqBH,IAPS,+CAa9BI,EAAkB1H,YAAY,CAClCC,KAAM,QACNC,aA7DE,CACFyH,aAAc,OACd/I,OAAQ,GACRgJ,iBAAkB,OAClBd,MAAO,GACPC,MAAO,GACPC,OAAQ,GAwDR7G,SAAU,GACVK,cAAe,SAACC,GACdA,EAAQC,QACN6G,EAAgBM,SAChB,SAACxH,GACCA,EAAMsH,aAAe,aAEvBjH,QACA6G,EAAgB5G,WAChB,SAACN,EAAOC,GACND,EAAMsH,aAAe,YACrBtH,EAAMzB,OAAS0B,EAAOC,QAAQ3B,OAC9ByB,EAAMyG,MAAQxG,EAAOC,QAAQuG,MAC7BzG,EAAM0G,MAAQzG,EAAOC,QAAQwG,MAC7B1G,EAAM2G,OAAS1G,EAAOC,QAAQyG,UAEhCtG,QACA6G,EAAgBO,UAChB,SAACzH,GACCA,EAAMsH,aAAe,cAEvBjH,QACA8G,EAAcK,SACd,SAACxH,GACCA,EAAMuH,iBAAmB,aAE3BlH,QACA8G,EAAc7G,WACd,SAACN,EAAOC,GACFA,EAAOC,QAAQkH,mBACjBpH,EAAMuH,iBAAmB,OACzBvH,EAAMzB,OAASyB,EAAMzB,OAAOmJ,OAAOzH,EAAOC,QAAQ3B,QAClDyB,EAAM2G,OAAS1G,EAAOC,QAAQyG,QAE9B3G,EAAMuH,iBAAmB,eAG7BlH,QACA8G,EAAcM,UACd,SAACzH,GACCA,EAAMuH,iBAAmB,iBAOlBF,MAAf,QAGA,IAEaM,EAAcjH,aAFR,SAACV,GAAD,OAAsBA,EAAM3B,SAI7C,SAACA,GAAD,OAAWA,M,0FCpGEuJ,IA7Bf,YAWG,IAVDC,EAUA,EAVAA,SACAC,EASA,EATAA,QACA9G,EAQA,EARAA,UAQA,IAPA+G,gBAOA,MAPW,UAOX,EANG9G,EAMH,6DACA,OACE,8CACED,UAAWE,IACTC,IAAO6G,eACP7G,IAAO4G,GACP/G,IAEEC,GANN,cAQE,qBAAKD,UAAU,iBAAf,SACG6G,IAEFC,Q,mBC1BPlK,EAAOC,QAAU,CAAC,KAAO,oB,sPCOV,SAASoK,IACtB,IAAMC,EAAUC,cAEhB,EAA0BC,mBAAS,IAAnC,mBAAO3B,EAAP,KAAc4B,EAAd,KACMC,EAAYpD,iBAAgC,MAE5CqD,EAAgB,WACN,KAAV9B,GACFyB,EAAQrC,KAAR,kBAAwBY,KAW5B,OAPA7B,YAAiB4D,SAASC,KAAM,WAAW,SAAClD,GACtB,IAAD,EAAL,MAAVA,EAAE7D,MACJ6D,EAAEmD,iBACF,UAAAJ,EAAUlD,eAAV,SAAmBuD,YAKrB,sBAAK3H,UAAWG,IAAOmH,UAAvB,UACE,uBACEM,WAAS,EACTC,YAAY,SACZC,IAAKR,EACLS,MAAOtC,EACPuC,SAAU,SAACzD,GAAD,OAAO8C,EAAS9C,EAAE0D,OAAOF,QACnCG,QAAS,SAAC3D,GACM,UAAVA,EAAE7D,KACJ6G,OAKN,sBAAKvH,UAAWG,IAAOgI,iBAAvB,UACE,cAACvI,EAAA,EAAD,CACEI,UAAU,iBACVoI,QAASb,EAFX,oBAMA,cAAC3H,EAAA,EAAD,CACEI,UAAU,iBACVoI,QAAS,WACPf,EAAS,IACTC,EAAUlD,SAAWkD,EAAUlD,QAAQuD,SAJ3C,sBAWF,sBAAK3H,UAAWG,IAAOkI,SAAvB,mBACQ,qCADR,kBCtDN,IAAMC,EAAgB,SAAC,GAAD,IACpBC,EADoB,EACpBA,GACAC,EAFoB,EAEpBA,KAFoB,OAOpB,cAAC,IAAD,CAASC,OAAK,EAACC,gBAAiBvI,IAAOwI,WAAYJ,GAAIA,EAAvD,SACGC,KAiBUI,EAbA,WACb,OACE,yBAAQjL,GAAIwC,IAAO0I,OAAnB,UACE,sBAAKlL,GAAIwC,IAAO2I,IAAhB,UACE,cAAC,EAAD,CAAeP,GAAG,IAAIC,KAAK,SAC3B,cAAC,EAAD,CAAeD,GAAG,WAAWC,KAAK,YAClC,cAAC,EAAD,CAAeD,GAAG,WAAWC,KAAK,eAEpC,cAACvB,EAAD,Q,wECkES8B,MApFf,YAQG,IAAD,IAPAC,sBAOA,SANAnJ,EAMA,EANAA,SACGI,EAKH,6CACMgJ,EAAU/E,iBAAuB,MACjCgF,EAAchF,kBAAO,GACrByB,EAASzB,iBAAO,CAAEiF,EAAG,EAAGC,EAAG,IAC3BC,EAAMnF,iBAAO,CAAEiF,EAAG,EAAGC,EAAG,IACxBE,EAAOpF,iBAAO,CAAEiF,EAAG,EAAGC,EAAG,IAEzBG,EAAeC,uBAAY,yBAAO,CACtCL,EAAG3B,SAASC,KAAKgC,cAAe,UAAAR,EAAQ7E,eAAR,eAAiBsF,cAAe,GAChEN,EAAG5B,SAASC,KAAKkC,eAAgB,UAAAV,EAAQ7E,eAAR,eAAiBwF,eAAgB,MAChE,IAEEC,EAASL,uBAAY,SAACjF,GAC1B8E,EAAIjF,QAAU,CACZ+E,EAAG/K,cAAQ,OAADmG,QAAC,IAADA,OAAA,EAAAA,EAAGuF,UAAWT,EAAIjF,QAAQ+E,EAAIxD,EAAOvB,QAAQ+E,GAAKxD,EAAOvB,QAAQ+E,EAAG,EAAGG,EAAKlF,QAAQ+E,GAC9FC,EAAGhL,cAAQ,OAADmG,QAAC,IAADA,OAAA,EAAAA,EAAGwF,UAAWV,EAAIjF,QAAQgF,EAAIzD,EAAOvB,QAAQgF,GAAKzD,EAAOvB,QAAQgF,EAAG,EAAGE,EAAKlF,QAAQgF,IAG5FH,EAAQ7E,UACV6E,EAAQ7E,QAAQ4F,MAAMC,KAAOZ,EAAIjF,QAAQ+E,EAAI,KAC7CF,EAAQ7E,QAAQ4F,MAAME,IAAMb,EAAIjF,QAAQgF,EAAI,QAE7C,IAwBH,OAtBAjF,qBAAU,WAAO,IAAD,IACdmF,EAAKlF,QAAUmF,IACfF,EAAIjF,QAAU,CACZ+E,GAAG,UAAAF,EAAQ7E,eAAR,eAAiB+F,aAAc,EAClCf,GAAG,UAAAH,EAAQ7E,eAAR,eAAiBgG,YAAa,KAElC,CAACb,IAEJ3F,YAAiByG,OAAQ,UAAU,WACjCf,EAAKlF,QAAUmF,IACfM,OAGFjG,YAAiB4D,SAAU,WAAW,WACpC0B,EAAY9E,SAAU,KACrB,GAEHR,YAAiB4D,SAAU,aAAa,SAACjD,GACvCA,EAAEmD,iBACFwB,EAAY9E,SAAWyF,EAAOtF,MAC7B,GAGD,+CACMtE,GADN,IAEE+J,MAAO,CAAEM,SAAU,SACnBxC,IAAKmB,EACLsB,YAAa,SAAChG,GAIT,IAAD,IAFEyE,IACGzE,EAAE0D,OAAuBuC,UAAUC,SAAS,aAEjDvB,EAAY9E,SAAU,EAEtBiF,EAAIjF,QAAU,CACZ+E,EAAG5E,EAAEuF,QACLV,EAAG7E,EAAEwF,SAGPpE,EAAOvB,QAAU,CACf+E,EAAGE,EAAIjF,QAAQ+E,IAAK,UAAAF,EAAQ7E,eAAR,eAAiB+F,aAAc,GACnDf,EAAGC,EAAIjF,QAAQgF,IAAK,UAAAH,EAAQ7E,eAAR,eAAiBgG,YAAa,MAlB1D,SAwBGvK,MC1EQ,SAAS6K,IAAc,IAAD,EAC7BC,EAAWnH,cACXlG,EAAeoG,YAAe/D,KAC5BvC,EAAWsG,YAAejE,KAA1BrC,OAER,EAAkCgK,mBAAS,GAA3C,mBAAOwD,EAAP,KAAkBC,EAAlB,KACA,EAAgCzD,mBAAS,GAAzC,mBAAO0D,EAAP,KAAiBC,EAAjB,KAyBA,OAvBA5G,qBAAU,WACR,sBAAC,sBAAAhH,EAAA,yDACMC,EADN,iEAGOA,EAAOW,OAHd,OAKCgN,EAAY3N,EAAOiB,eACnBwM,EAAa,GANd,0CAAD,KAQC,CAACF,EAAUvN,IAEd+G,qBAAU,WACR,GAAK/G,EAAL,CAEA,IAAM4N,EAAiBC,aAAY,WACjC,IAAMC,EAAU9N,EAAOc,cACnBgN,GAAWJ,EAAUH,EAASpM,YAAU,SACvCsM,EAAaK,KACjB,KAEH,OAAO,kBAAMC,cAAcH,OAC1B,CAACL,EAAUvN,EAAQ0N,IAEdxN,EACN,eAAC,EAAD,CAAS0L,gBAAc,EAACrL,GAAIwC,IAAOiL,WAAnC,UACE,qBACEpL,UAAWG,IAAOkL,MAClBC,IAAKhO,EAAaiO,MAAQ,SAC1BC,KAAK,UAAAlO,EAAamO,mBAAb,eAA0BC,QAAQ,iBAAkB,cAAenG,MAG1E,sBAAK5H,GAAIwC,IAAOwL,QAAhB,UACE,cAAC/L,EAAA,EAAD,CACEjC,GAAIwC,IAAO8I,QACXjJ,UAAU,yBAFZ,4BAMA,cAACJ,EAAA,EAAD,CACEjC,GAAIwC,IAAOyL,OACX5L,UAAU,iBAFZ,oBAOA,sBAAKA,UAAWG,IAAO0L,KAAvB,UACE,mBAAG7L,UAAWG,IAAOoL,MAArB,SACGjO,EAAaiO,QAEhB,mBAAGvL,UAAWG,IAAO2L,OAArB,SACGxO,EAAayO,KAAKC,WAErB,oBAAGhM,UAAWG,IAAOyK,UAArB,UACG1H,YAAYF,YAAmB4H,IADlC,MACkD1H,YAAYF,YAAmB8H,UAInF,sBAAK9K,UAAWG,IAAO8L,QAAvB,UACE,cAACrM,EAAA,EAAD,CACEjC,GAAIwC,IAAO+L,OACXlM,UAAU,iBACVoI,QAAS,kBAAMuC,EAAS3M,aAAW,MAHrC,yBAOA,cAAC4B,EAAA,EAAD,CACEjC,GAAIwC,IAAOgM,SACXnM,UAAU,iBACVoI,QAAS,kBAAMuC,EAASpM,YAAU,UAHpC,2BAOA,cAACqB,EAAA,EAAD,CACEjC,GAAIwC,IAAOpC,KACXiC,UAAU,iBACVoI,QAAS,kBAAMuC,EAAS/M,gBAH1B,UAMI,OAACR,QAAD,IAACA,OAAD,EAACA,EAAQS,aACL,QACA,eAGR,cAAC+B,EAAA,EAAD,CACEjC,GAAIwC,IAAOiM,KACXpM,UAAU,iBACVoI,QAAS,kBAAMuC,EAASpM,YAAU,UAHpC,uBAOA,cAACqB,EAAA,EAAD,CACEjC,GAAIwC,IAAOkM,QACXrM,UAAU,iBACVoI,QAAS,kBAAMuC,EAAS3M,YAAU,MAHpC,gCAUJ,0BACEL,GAAIwC,IAAOmM,cACX3J,IAAKmI,EACL/C,MAAO6C,EACPxC,QAAS,SAAC7D,GACR,IAAMgI,EAAchI,EAAE0D,OAChBoB,EAAMkD,EAAYC,wBAGlBC,GAFclI,EAAEuF,QAAUT,EAAIY,MACXsC,EAAY9C,YACmBqB,EAAWF,EACnED,EAAS3M,YAAUyO,EAAiB,YAIvC,6B,qCCpFQC,EA3CO,SAAC,GAIhB,IAHL7M,EAGI,EAHJA,SAIMqH,EAAUC,cAEhB,OACE,cAAC,gBAAD,CACEwF,QAAS,SAACnK,GAAD,OACPD,QAAQC,MAAM,sBAAuBA,IAEvCoK,kBAAmB,gBAAGpK,EAAH,EAAGA,MAAOqK,EAAV,EAAUA,mBAAV,OACjB,cAACjG,EAAA,EAAD,CACE5G,UAAWG,IAAO2M,aAClB/F,SAAS,QACTF,SAAS,QACTC,QACE,sBAAK9G,UAAWG,IAAO4M,WAAvB,UACE,qDACA,sBAAK/M,UAAWG,IAAO6M,SAAvB,UACE,8DACA,8BAAMxK,EAAMsE,aAEd,cAAClH,EAAA,EAAD,CACEG,SAAS,WACTqI,QAAS,WACPyE,IACA3F,EAAQrC,KAAK,MAJjB,+BAhBV,SA8BGhF,KCnCDoN,EAAiBC,gBAAK,kBAAM,gCAC5BC,EAAaD,gBAAK,kBAAM,sDACxBE,EAAcF,gBAAK,kBAAM,gCACzBG,EAAeH,gBAAK,kBAAM,gCAsCjBI,MApCf,WACE,IAAM3C,EAAWnH,cACThG,EAAsBkG,YAAejE,KAArCjC,kBAMR,OAJA2G,qBAAU,WACRwG,EAAS7N,iBACR,CAAC6N,EAAUnN,IAEP,qCACL,cAAC,EAAD,IAEA,sBAAMG,GAAIwC,IAAOoN,KAAjB,SACE,cAAC,EAAD,UACE,cAAC,WAAD,CAAUC,SAAS,GAAnB,SACE,eAAC,IAAD,WACE,cAAC,IAAD,CAAO/E,OAAK,EAACgF,KAAK,IAAlB,SACE,cAACR,EAAD,MAEF,cAAC,IAAD,CAAOxE,OAAK,EAACgF,KAAK,iBAAlB,SACE,cAACN,EAAD,MAEF,cAAC,IAAD,CAAO1E,OAAK,EAACgF,KAAK,WAAlB,SACE,cAACL,EAAD,MAEF,cAAC,IAAD,CAAO3E,OAAK,EAACgF,KAAK,0BAAlB,SACE,cAACJ,EAAD,eAOV,cAAC3C,EAAD,QCpCJgD,IAASC,OACP,cAAC,IAAMC,WAAP,UACE,cAAC,IAAD,CAAUvM,MAAOA,IAAjB,SACE,cAAC,IAAD,CAAac,UAAWA,IAAxB,SACE,cAAC,IAAD,CAAe0L,SAAS,qBAAxB,SACE,cAAC,EAAD,YAKRrG,SAASsG,eAAe,W","file":"static/js/main.98d30641.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"miniplayer\":\"Miniplayer_miniplayer__2E8Qt\",\"cover\":\"Miniplayer_cover__CKtS-\",\"trackProgress\":\"Miniplayer_trackProgress__buOYw\",\"overlay\":\"Miniplayer_overlay__22zGG\",\"draggie\":\"Miniplayer_draggie__2uRry\",\"expand\":\"Miniplayer_expand__GDrpU\",\"info\":\"Miniplayer_info__GK1y_\",\"title\":\"Miniplayer_title__3v4w-\",\"artist\":\"Miniplayer_artist__bb67l\",\"timestamp\":\"Miniplayer_timestamp__2SVyR\",\"control\":\"Miniplayer_control__3gFYx\",\"play\":\"Miniplayer_play__24ico\"};","import { createSlice, createDraftSafeSelector, createAsyncThunk, PayloadAction } from '@reduxjs/toolkit';\nimport { RootState, errorHandler } from 'app/store';\n\nimport Soundcloud, { SoundcloudStreamPlayer } from 'soundcloud';\nimport { clamp } from 'utils/functions';\n\n\nconst initialState: {\n  player: null | SoundcloudStreamPlayer;\n  currentTrackIndex: number;\n} = {\n  player: null,\n  currentTrackIndex: -1\n};\n\n\nexport const playTrack = createAsyncThunk(\n  'player/playTrack',\n  (_, { getState }) => errorHandler(async () => {\n    const { player, track } = getState() as RootState;\n    const currentTrack = track.tracks[player.currentTrackIndex];\n\n    return await Soundcloud.stream('/tracks/' + currentTrack.id);\n  })\n);\n\nexport const pauseTrack = createAsyncThunk(\n  'player/pauseTrack',\n  (_, { getState }) => errorHandler(async () => {\n    const { player } = (getState() as RootState).player;\n    if (!player) return;\n\n    (player.isPlaying())\n      ? await player.pause()\n      : await player.play();\n  })\n);\n\nexport const seekTrack = createAsyncThunk(\n  'player/seekTrack',\n  async (second: number, { getState }) => errorHandler(async () => {\n    const { player } = (getState() as RootState).player;\n    if (!player) return;\n\n    const currentTime = player.currentTime();\n    const seekTime = clamp(currentTime + second * 1000, 0, player.getDuration());\n    await player?.seek(seekTime);\n  })\n);\n\nexport const skipTrack = createAsyncThunk(\n  'player/skipTrack',\n  (direction: 'prev' | 'next', { getState }) => errorHandler(async () => {\n    const { player, track } = getState() as RootState;\n    if (!player.player) return;\n\n    (player.player.isPlaying())\n      && (await player.player.pause());\n\n    if (direction === 'prev') {\n      return (player.currentTrackIndex <= 0)\n        ? track.tracks.length - 1\n        : player.currentTrackIndex - 1;\n    }\n\n    else\n      return (player.currentTrackIndex >= track.tracks.length - 1)\n        ? 0\n        : player.currentTrackIndex + 1;\n  })\n);\n\n\nconst playerSlice = createSlice({\n  name: 'player',\n  initialState,\n  reducers: {\n    changeTrack: (state, action: PayloadAction<number>) => {\n      state.currentTrackIndex = action.payload;\n    }\n  },\n  extraReducers: (builder) => {\n    builder.addCase(\n      playTrack.fulfilled,\n      (state, action: PayloadAction<SoundcloudStreamPlayer>) => {\n        state.player = action.payload;\n      }\n    ).addCase(\n      pauseTrack.fulfilled,\n      () => { }\n    ).addCase(\n      seekTrack.fulfilled,\n      () => { }\n    ).addCase(\n      skipTrack.fulfilled,\n      (state, action: PayloadAction<number>) => {\n        state.currentTrackIndex = action.payload;\n      }\n    );\n  }\n});\n\nexport const { changeTrack } = playerSlice.actions;\nexport default playerSlice.reducer;\n\n\nconst selectSelf = (state: RootState) => state.player;\nconst selectTrack = (state: RootState) => state.track;\n\nexport const selectPlayer = createDraftSafeSelector(\n  selectSelf,\n  (player) => player\n);\n\nexport const selectCurrentTrack = createDraftSafeSelector(\n  selectSelf,\n  selectTrack,\n  (player, track) => track.tracks[player.currentTrackIndex]\n);","import styles from './Button.module.scss';\nimport cn from 'classnames';\n\n\nfunction Button({\n  children,\n  type = 'button',\n  styledAs,\n  className,\n  ...props\n}: {\n  children: React.ReactNode;\n  styledAs?: 'bigWhite';\n} & React.DetailedHTMLProps<React.ButtonHTMLAttributes<HTMLButtonElement>, HTMLButtonElement>\n) {\n  return (\n    <button\n      className={cn(\n        styles.btn,\n        styledAs ? styles[styledAs] : styles.default,\n        className\n      )}\n      type={type}\n      {...props}\n    >\n      {children}\n    </button>\n  );\n}\n\nexport default Button;\n","import { configureStore, ThunkAction, Action, combineReducers } from '@reduxjs/toolkit';\nimport {\n  persistStore, persistReducer,\n  FLUSH, REHYDRATE, PAUSE, PERSIST, PURGE, REGISTER\n} from 'redux-persist';\nimport storage from 'redux-persist/lib/storage';\n\nimport playerReducer from 'app/playerSlice';\nimport trackReducer from 'app/trackSlice';\nimport playlistReducer from 'app/playlistSlice';\n\nimport Soundcloud from 'soundcloud';\n\n\nSoundcloud.initialize({\n  client_id: process.env.REACT_APP_SOUNDCLOUD_CLIENT_ID\n});\n\n\nconst persistConfig = {\n  key: 'root',\n  storage,\n  whitelist: ['playlist']\n};\n\nconst rootReducer = combineReducers({\n  player: playerReducer,\n  track: trackReducer,\n  playlist: playlistReducer\n});\n\nconst persistedReducer = persistReducer(persistConfig, rootReducer);\n\n\nexport const store = configureStore({\n  reducer: persistedReducer,\n  middleware: (getDefaultMiddleware) => getDefaultMiddleware({\n    serializableCheck: {\n      ignoredActions: [\n        FLUSH, REHYDRATE, PAUSE, PERSIST, PURGE, REGISTER,\n        'player/playTrack/fulfilled'\n      ],\n      ignoredPaths: ['player.player', 'track.tracks']\n    }\n  })\n});\n\nexport const persistor = persistStore(store);\n\n\nexport type RootState = ReturnType<typeof store.getState>;\nexport type AppDispatch = typeof store.dispatch;\nexport type AppThunk<ReturnType = void> = ThunkAction<\n  ReturnType,\n  RootState,\n  unknown,\n  Action<string>\n>;\n\n\nexport type statusState = 'idle' | 'pending' | 'fulfilled' | 'rejected';\n\nexport const errorHandler = (func: () => Promise<unknown>) => {\n  try {\n    return func();\n  } catch (err) {\n    console.error('redux store error:', err);\n    return err;\n  }\n};","export const clamp = (\n  num: number,\n  min: number,\n  max: number\n) =>\n  Math.min(Math.max(num, min), max);\n\nexport const getRandNumBetween = (min: number, max: number) => {\n  return Math.floor(Math.random() * (max - min) + min);\n};\n\nexport const millisecond2second = (milliseconds: number) => {\n  return Math.floor(milliseconds / 1000);\n};\n\nexport const displayTime = (seconds: number) => {\n  return [seconds % 3600 / 60, seconds % 60]\n    .map((val: number) =>\n      `0${Math.floor(val)}`.slice(-2)\n    )\n    .join(':');\n};","import { TypedUseSelectorHook, useDispatch, useSelector } from 'react-redux';\nimport type { RootState, AppDispatch } from './store';\n\n// Use throughout your app instead of plain `useDispatch` and `useSelector`\nexport const useAppDispatch = () => useDispatch<AppDispatch>();\nexport const useAppSelector: TypedUseSelectorHook<RootState> = useSelector;\n","import { useEffect, useRef } from 'react';\n\nconst useEventListener = <\n  E extends Element | Document | Window,\n  T extends keyof ElementEventMap | keyof DocumentEventMap | keyof WindowEventMap,\n  >(\n    element: E,\n    eventType: T | string,\n    listener: (\n      e:\n        T extends keyof ElementEventMap ? ElementEventMap[T]\n        : T extends keyof DocumentEventMap ? DocumentEventMap[T]\n        : T extends keyof WindowEventMap ? WindowEventMap[T]\n        : Event\n    ) => void,\n    options?: boolean | AddEventListenerOptions\n\n  ) => {\n\n  const savedListener = useRef(listener);\n  useEffect(() => {\n    savedListener.current = listener;\n  }, [listener]);\n\n  useEffect(() => {\n    if (!element || !element.addEventListener) return;\n\n    const wrappedListener: typeof savedListener.current = (e) => savedListener.current(e);\n    element.addEventListener(eventType, wrappedListener as EventListener, options);\n\n    return () => element.removeEventListener(eventType, wrappedListener as EventListener, options);\n  }, [element, eventType, options]);\n};\n\nexport default useEventListener;","// extracted by mini-css-extract-plugin\nmodule.exports = {\"header\":\"Header_header__3PxdP\",\"nav\":\"Header_nav__n1wYY\",\"activeLink\":\"Header_activeLink__3QeWD\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"searchbar\":\"Searchbar_searchbar__-X5cQ\",\"searchbarControl\":\"Searchbar_searchbarControl__1G93j\",\"focusTip\":\"Searchbar_focusTip__Oz1to\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"btn\":\"Button_btn__9RM5l\",\"bigWhite\":\"Button_bigWhite__EggS7\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"errorDisplay\":\"ErrorFallback_errorDisplay__3Nq8i\",\"errorInner\":\"ErrorFallback_errorInner__18O8o\",\"errorMsg\":\"ErrorFallback_errorMsg__35oIC\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"messageDisplay\":\"MessageDisplay_messageDisplay__156mK\",\"warning\":\"MessageDisplay_warning__1RBx6\",\"error\":\"MessageDisplay_error__2detH\"};","import { createSlice, createDraftSafeSelector, createAsyncThunk, PayloadAction } from '@reduxjs/toolkit';\nimport { RootState, errorHandler } from 'app/store';\n\nimport { SoundcloudTrack } from 'soundcloud';\n\n\nexport interface Playlist {\n  name: string;\n  tracks: SoundcloudTrack[];\n}\n\nconst initialState: {\n  playlists: Playlist[];\n} = {\n  playlists: []\n};\n\nconst playlistSlice = createSlice({\n  name: 'playlist',\n  initialState,\n  reducers: {\n    createPlaylist: (state, action: PayloadAction<string>) => {\n      const newPlaylist = {\n        name: action.payload,\n        tracks: []\n      };\n      state.playlists.push(newPlaylist);\n    },\n    addToPlaylist: (\n      state,\n      action: PayloadAction<{\n        playlist: Playlist,\n        track: SoundcloudTrack;\n      }>\n    ) => {\n      const { playlist, track } = action.payload;\n      state.playlists.forEach((playlist_) => {\n        if (playlist_.name === playlist.name) {\n          const isTrackDuplicate = playlist_.tracks.some((track_) =>\n            (track_.id === track.id)\n          );\n\n          (!isTrackDuplicate) && playlist_.tracks.push(track);\n        }\n      });\n    }\n  },\n  extraReducers: (builder) => {\n    // builder.addCase(\n\n    // )\n  }\n});\n\nexport const {\n  createPlaylist, addToPlaylist\n} = playlistSlice.actions;\nexport default playlistSlice.reducer;\n\n\nconst selectSelf = (state: RootState) => state.playlist;\n\nexport const selectPlaylists = createDraftSafeSelector(\n  selectSelf,\n  (playlist) => playlist.playlists\n);\n\nexport const selectPlaylist = (playlistName: string) => {\n  return createDraftSafeSelector(\n    selectSelf,\n    (playlist) => playlist.playlists.filter((playlist) =>\n      playlist.name === playlistName\n    )[0]\n  );\n};","export const imgPlaceholder = 'data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7';\n","import { createSlice, createDraftSafeSelector, createAsyncThunk, PayloadAction } from '@reduxjs/toolkit';\nimport { RootState, statusState, errorHandler } from 'app/store';\n\nimport Soundcloud, { PaginatedSearchResult, SoundcloudTrack } from 'soundcloud';\n\n\nconst paginationLength = 20;\n\n\nconst initialState: {\n  searchStatus: statusState;\n  tracks: SoundcloudTrack[];\n  paginationStatus: statusState;\n  input: string;\n  limit: number;\n  offset: number;\n} = {\n  searchStatus: 'idle',\n  tracks: [],\n  paginationStatus: 'idle',\n  input: '',\n  limit: 10,\n  offset: 0\n};\n\ntype QueryResult = Pick<typeof initialState, 'tracks' | 'input' | 'limit' | 'offset'>;\n\n\nconst paginatedSearch = async (\n  input: string,\n  limit: number,\n  offset: number\n) => {\n  const { collection, next_href } = await Soundcloud.get('/tracks', {\n    q: input,\n    limit,\n    offset,\n    linked_partitioning: 1\n  }) as PaginatedSearchResult;\n\n  return {\n    tracks: collection,\n    nextQuery: next_href\n  };\n};\n\nexport const searchForTracks = createAsyncThunk(\n  'tracks/searchForTracks',\n  (input: string) => errorHandler(async () => {\n    const { tracks } = await paginatedSearch(input, paginationLength, 0);\n\n    return {\n      tracks,\n      input,\n      limit: paginationLength,\n      offset: paginationLength\n    };\n  })\n);\n\nexport const queryNextPage = createAsyncThunk(\n  'tracks/queryNextPage',\n  (_, { getState }) => errorHandler(async () => {\n    const { input, limit, offset } = (getState() as RootState).track;\n    const { tracks, nextQuery } = await paginatedSearch(input, limit, offset);\n\n    return {\n      tracks,\n      offset: offset + limit,\n      isThereMoreTracks: !!nextQuery\n    };\n  })\n);\n\n\nconst soundcloudSlice = createSlice({\n  name: 'track',\n  initialState,\n  reducers: {},\n  extraReducers: (builder) => {\n    builder.addCase(\n      searchForTracks.pending,\n      (state) => {\n        state.searchStatus = 'pending';\n      }\n    ).addCase(\n      searchForTracks.fulfilled,\n      (state, action: PayloadAction<QueryResult>) => {\n        state.searchStatus = 'fulfilled';\n        state.tracks = action.payload.tracks;\n        state.input = action.payload.input;\n        state.limit = action.payload.limit;\n        state.offset = action.payload.offset;\n      }\n    ).addCase(\n      searchForTracks.rejected,\n      (state) => {\n        state.searchStatus = 'rejected';\n      }\n    ).addCase(\n      queryNextPage.pending,\n      (state) => {\n        state.paginationStatus = 'pending';\n      }\n    ).addCase(\n      queryNextPage.fulfilled,\n      (state, action) => {\n        if (action.payload.isThereMoreTracks) {\n          state.paginationStatus = 'idle';\n          state.tracks = state.tracks.concat(action.payload.tracks);\n          state.offset = action.payload.offset;\n        } else {\n          state.paginationStatus = 'fulfilled';\n        }\n      }\n    ).addCase(\n      queryNextPage.rejected,\n      (state) => {\n        state.paginationStatus = 'rejected';\n      }\n    );\n  }\n});\n\n// export const { } = soundcloudSlice.actions;\nexport default soundcloudSlice.reducer;\n\n\nconst selectSelf = (state: RootState) => state.track;\n\nexport const selectTrack = createDraftSafeSelector(\n  selectSelf,\n  (track) => track\n);","import styles from './MessageDisplay.module.scss';\nimport cn from 'classnames';\n\nfunction MessageDisplay({\n  iconCode,\n  message,\n  className,\n  severity = 'default',\n  ...props\n}: {\n  iconCode: string;\n  message: React.ReactNode;\n  severity?: 'default' | 'warning' | 'error';\n} & React.DetailedHTMLProps<React.HTMLAttributes<HTMLDivElement>, HTMLDivElement>\n) {\n  return (\n    <div\n      className={cn(\n        styles.messageDisplay,\n        styles[severity],\n        className\n      )}\n      {...props}\n    >\n      <div className='material-icons'>\n        {iconCode}\n      </div>\n      {message}\n    </div>\n  );\n}\n\nexport default MessageDisplay;\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"main\":\"App_main__3T6IN\"};","import styles from './Searchbar.module.scss';\nimport { useState, useRef } from 'react';\nimport { useHistory } from 'react-router';\n\nimport useEventListener from 'hooks/useEventListener';\nimport Button from 'components/Button';\n\n\nexport default function Searchbar() {\n  const history = useHistory();\n\n  const [input, setInput] = useState('');\n  const searchbar = useRef<null | HTMLInputElement>(null);\n\n  const submitHandler = () => {\n    if (input !== '') {\n      history.push(`/search/${input}`);\n    }\n  };\n\n  useEventListener(document.body, 'keydown', (e) => {\n    if (e.key === '/') {\n      e.preventDefault();\n      searchbar.current?.focus();\n    }\n  });\n\n  return (\n    <div className={styles.searchbar}>\n      <input\n        autoFocus\n        placeholder='Search'\n        ref={searchbar}\n        value={input}\n        onChange={(e) => setInput(e.target.value)}\n        onKeyUp={(e) => {\n          if (e.key === 'Enter') {\n            submitHandler();\n          }\n        }}\n      />\n\n      <div className={styles.searchbarControl}>\n        <Button\n          className='material-icons'\n          onClick={submitHandler}\n        >\n          search\n        </Button>\n        <Button\n          className='material-icons'\n          onClick={() => {\n            setInput('');\n            searchbar.current && searchbar.current.focus();\n          }}\n        >\n          clear\n        </Button>\n      </div>\n\n      <div className={styles.focusTip}>\n        Press <code>/</code> to Focus\n      </div>\n    </div>\n  );\n}","import styles from './Header.module.scss';\nimport { NavLink } from 'react-router-dom';\n\nimport Searchbar from './Searchbar';\n\n\nconst HeaderNavLink = ({\n  to,\n  text,\n}: {\n  to: string;\n  text: string;\n}) => (\n  <NavLink exact activeClassName={styles.activeLink} to={to}>\n    {text}\n  </NavLink>\n);\n\nconst Header = () => {\n  return (\n    <header id={styles.header}>\n      <nav id={styles.nav}>\n        <HeaderNavLink to='/' text='Home' />\n        <HeaderNavLink to='/library' text='Library' />\n        <HeaderNavLink to='/account' text='Account' />\n      </nav>\n      <Searchbar />\n    </header>\n  );\n};\n\nexport default Header;\n","import { useCallback, useEffect, useRef } from 'react';\n\nimport useEventListener from 'hooks/useEventListener';\nimport { clamp } from 'utils/functions';\n\n/**\n * @params controlledMode - if set `true`, a children must have a className of 'draggie' to drag the draggie itself\n */\nfunction Draggie({\n  controlledMode = false,\n  children,\n  ...props\n}: {\n  controlledMode?: boolean;\n  children: React.ReactNode;\n} & React.HTMLAttributes<HTMLDivElement>\n) {\n  const draggie = useRef<HTMLDivElement>(null);\n  const isDraggable = useRef(false);\n  const offset = useRef({ x: 0, y: 0 });\n  const pos = useRef({ x: 0, y: 0 });\n  const edge = useRef({ x: 0, y: 0 });\n\n  const getDist2Edge = useCallback(() => ({\n    x: document.body.clientWidth - (draggie.current?.offsetWidth || 0),\n    y: document.body.clientHeight - (draggie.current?.offsetHeight || 0),\n  }), []);\n\n  const setPos = useCallback((e?: MouseEvent) => {\n    pos.current = {\n      x: clamp((e?.clientX || pos.current.x + offset.current.x) - offset.current.x, 0, edge.current.x),\n      y: clamp((e?.clientY || pos.current.y + offset.current.y) - offset.current.y, 0, edge.current.y)\n    };\n\n    if (draggie.current) {\n      draggie.current.style.left = pos.current.x + 'px';\n      draggie.current.style.top = pos.current.y + 'px';\n    }\n  }, []);\n\n  useEffect(() => {\n    edge.current = getDist2Edge();\n    pos.current = {\n      x: draggie.current?.offsetLeft || 0,\n      y: draggie.current?.offsetTop || 0\n    };\n  }, [getDist2Edge]);\n\n  useEventListener(window, 'resize', () => {\n    edge.current = getDist2Edge();\n    setPos();\n  });\n\n  useEventListener(document, 'mouseup', () => {\n    isDraggable.current = false;\n  }, true);\n\n  useEventListener(document, 'mousemove', (e) => {\n    e.preventDefault();\n    isDraggable.current && setPos(e);\n  }, true);\n\n  return (\n    <div\n      {...props}\n      style={{ position: 'fixed' }}\n      ref={draggie}\n      onMouseDown={(e) => {\n        if (\n          (!controlledMode)\n          || ((e.target as HTMLElement).classList.contains('draggie'))\n        ) {\n          isDraggable.current = true;\n\n          pos.current = {\n            x: e.clientX,\n            y: e.clientY\n          };\n\n          offset.current = {\n            x: pos.current.x - (draggie.current?.offsetLeft || 0),\n            y: pos.current.y - (draggie.current?.offsetTop || 0)\n          };\n        }\n      }\n      }\n    >\n      {children}\n    </div>\n  );\n}\n\nexport default Draggie;\n","import styles from './Miniplayer.module.scss';\nimport { useState, useEffect } from 'react';\n\nimport { useAppSelector, useAppDispatch } from 'app/hooks';\nimport { selectPlayer, selectCurrentTrack, pauseTrack, seekTrack, skipTrack } from 'app/playerSlice';\n\nimport { millisecond2second, displayTime } from 'utils/functions';\nimport { imgPlaceholder } from 'utils/constants';\n\nimport Draggie from 'components/Draggie';\nimport Button from 'components/Button';\n\n\nexport default function MiniPlayer() {\n  const dispatch = useAppDispatch();\n  const currentTrack = useAppSelector(selectCurrentTrack);\n  const { player } = useAppSelector(selectPlayer);\n\n  const [timestamp, setTimestamp] = useState(0);\n  const [duration, setDuration] = useState(1);\n\n  useEffect(() => {\n    (async () => {\n      if (!player) return;\n\n      await player.play();\n\n      setDuration(player.getDuration());\n      setTimestamp(0);\n    })();\n  }, [dispatch, player]);\n\n  useEffect(() => {\n    if (!player) return;\n\n    const timestampTimer = setInterval(() => {\n      const newTime = player.currentTime();\n      if (newTime >= duration) dispatch(skipTrack('next'));\n      else setTimestamp(newTime);\n    }, 1000);\n\n    return () => clearInterval(timestampTimer);\n  }, [dispatch, player, duration]);\n\n  return (currentTrack) ? (\n    <Draggie controlledMode id={styles.miniplayer}>\n      <img\n        className={styles.cover}\n        alt={currentTrack.title + ' cover'}\n        src={currentTrack.artwork_url?.replace(/large(?=.jpg)/i, 't500x500') || imgPlaceholder}\n      />\n\n      <div id={styles.overlay}>\n        <Button\n          id={styles.draggie}\n          className='material-icons draggie'\n        >\n          drag_indicator\n        </Button>\n        <Button\n          id={styles.expand}\n          className='material-icons'\n        >\n          launch\n        </Button>\n\n        <div className={styles.info}>\n          <p className={styles.title}>\n            {currentTrack.title}\n          </p>\n          <p className={styles.artist}>\n            {currentTrack.user.username}\n          </p>\n          <p className={styles.timestamp}>\n            {displayTime(millisecond2second(timestamp))} / {displayTime(millisecond2second(duration))}\n          </p>\n        </div>\n\n        <div className={styles.control}>\n          <Button\n            id={styles.rewind}\n            className='material-icons'\n            onClick={() => dispatch(seekTrack(-10))}\n          >\n            fast_rewind\n          </Button>\n          <Button\n            id={styles.previous}\n            className='material-icons'\n            onClick={() => dispatch(skipTrack('prev'))}\n          >\n            skip_previous\n          </Button>\n          <Button\n            id={styles.play}\n            className='material-icons'\n            onClick={() => dispatch(pauseTrack())}\n          >\n            {\n              (player?.isPlaying())\n                ? 'pause'\n                : 'play_arrow'\n            }\n          </Button>\n          <Button\n            id={styles.next}\n            className='material-icons'\n            onClick={() => dispatch(skipTrack('next'))}\n          >\n            skip_next\n          </Button>\n          <Button\n            id={styles.forward}\n            className='material-icons'\n            onClick={() => dispatch(seekTrack(10))}\n          >\n            fast_forward\n          </Button>\n        </div>\n      </div>\n\n      <progress\n        id={styles.trackProgress}\n        max={duration}\n        value={timestamp}\n        onClick={(e) => {\n          const progressBar = e.target as HTMLProgressElement;\n          const pos = progressBar.getBoundingClientRect();\n          const clickOffset = e.clientX - pos.left;\n          const progressBarWidth = progressBar.clientWidth;\n          const distanceToSeek = clickOffset / progressBarWidth * duration - timestamp;\n          dispatch(seekTrack(distanceToSeek / 1000));\n        }}\n      />\n    </Draggie >\n  ) : (<></>);\n}\n","import styles from 'components/ErrorFallback.module.scss';\nimport { useHistory } from 'react-router';\nimport { ErrorBoundary } from 'react-error-boundary';\n\nimport MessageDisplay from './MessageDisplay';\nimport Button from './Button';\n\n\nconst ErrorFallback = ({\n  children\n}: {\n  children: React.ReactNode;\n}) => {\n  const history = useHistory();\n\n  return (\n    <ErrorBoundary\n      onError={(error) =>\n        console.error('ErrorBoundary error', error)\n      }\n      FallbackComponent={({ error, resetErrorBoundary }) => (\n        <MessageDisplay\n          className={styles.errorDisplay}\n          severity='error'\n          iconCode='error'\n          message={\n            <div className={styles.errorInner}>\n              <p>Something went wrong</p>\n              <div className={styles.errorMsg} >\n                <p>Received the following error:</p>\n                <pre>{error.message}</pre>\n              </div>\n              <Button\n                styledAs='bigWhite'\n                onClick={() => {\n                  resetErrorBoundary();\n                  history.push('/');\n                }}\n              >\n                Return Home\n              </Button>\n            </div>\n          }\n        />\n      )}\n    >\n      {children}\n    </ErrorBoundary >\n  );\n};\n\nexport default ErrorFallback;\n","import styles from './App.module.scss';\nimport { useEffect, Suspense, lazy } from 'react';\nimport { Switch, Route } from 'react-router-dom';\n\nimport { useAppDispatch, useAppSelector } from 'app/hooks';\nimport { selectPlayer, playTrack } from 'app/playerSlice';\n\nimport Header from 'views/Header';\nimport MiniPlayer from 'views/Miniplayer';\nimport ErrorFallback from 'components/ErrorFallback';\n\nconst SuggestionPage = lazy(() => import('pages/SuggestionPage'));\nconst SearchPage = lazy(() => import('pages/Searchpage'));\nconst LibraryPage = lazy(() => import('pages/LibraryPage'));\nconst PlaylistPage = lazy(() => import('pages/PlaylistPage'));\n\nfunction App() {\n  const dispatch = useAppDispatch();\n  const { currentTrackIndex } = useAppSelector(selectPlayer);\n\n  useEffect(() => {\n    dispatch(playTrack());\n  }, [dispatch, currentTrackIndex]);\n\n  return <>\n    <Header />\n\n    <main id={styles.main}>\n      <ErrorFallback>\n        <Suspense fallback=''>\n          <Switch>\n            <Route exact path='/'>\n              <SuggestionPage />\n            </Route>\n            <Route exact path='/search/:input'>\n              <SearchPage />\n            </Route>\n            <Route exact path='/library'>\n              <LibraryPage />\n            </Route>\n            <Route exact path='/playlist/:playlistName'>\n              <PlaylistPage />\n            </Route>\n          </Switch>\n        </Suspense>\n      </ErrorFallback>\n    </main>\n\n    <MiniPlayer />\n  </>;\n};\n\nexport default App;\n","import 'index.scss';\nimport React from 'react';\nimport ReactDOM from 'react-dom';\nimport { BrowserRouter } from 'react-router-dom';\n\nimport { Provider } from 'react-redux';\nimport { PersistGate } from 'redux-persist/integration/react';\nimport { store, persistor } from 'app/store';\n\nimport App from 'App';\n\n\nReactDOM.render(\n  <React.StrictMode>\n    <Provider store={store}>\n      <PersistGate persistor={persistor}>\n        <BrowserRouter basename='/soundcloud-widget'>\n          <App />\n        </BrowserRouter>\n      </PersistGate>\n    </Provider>\n  </React.StrictMode>,\n  document.getElementById('root')\n);"],"sourceRoot":""}